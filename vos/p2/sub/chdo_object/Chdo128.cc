//	Copyright (c) 1999, California Institute of Technology
//	U. S. Government sponsorship under NASA contract is acknowledged

//////////////////////////////////////////////////////////////////////////////
//
//				Chdo128.h
//
//	CHDO 82 is a Mars '98/01 Mission CHDO used for the TIS Tertiary Packet
//  Header.  This class adds the capability to extract only the APID, SCLK,
//  SCET, and Packet Sequence Count values from the CHDO.  Additional fields
//  are available, but currently not needed.  Consult the TMOD/AMMOS document:
//  SFOC-5-TIS-*DU-M98SFDU for all of the available fields and insternal
//  structure of CHDO 82.
//
//////////////////////////////////////////////////////////////////////////////

#include "Chdo128.h"

//////////////////////////////////////////////////////////////////////////////
//
//				apid
//
//////////////////////////////////////////////////////////////////////////////

int	Chdo_128::apid( void )
{
  return (((int)(_data[0] & 0x07) * 256) + _data[1]);
}

//////////////////////////////////////////////////////////////////////////////
//
//				pktSeqCnt
//
//////////////////////////////////////////////////////////////////////////////

int	Chdo_128::pktSeqCnt( void )
{
  return (((int)_data[6] * 256) + _data[3]);
}

//////////////////////////////////////////////////////////////////////////////
//
//				sclk
//
//////////////////////////////////////////////////////////////////////////////

SclkTime	Chdo_128::sclk( void )
{ SclkTime	SpacecraftClock(&_data[10]);

  return (SpacecraftClock);
}

//////////////////////////////////////////////////////////////////////////////
//
//				scet
//
//////////////////////////////////////////////////////////////////////////////

SfocTime	Chdo_128::scet( void )
{ SfocTime	SpacecraftEventTime(&_data[16]);
  return (SpacecraftEventTime);
}
