process help=*
PARM INP      TYPE=STRING  COUNT=(1:2)
PARM OUT      TYPE=STRING  COUNT=1
PARM SIZE     TYPE=INTEGER COUNT=(0:4)                DEFAULT=--
PARM NL       TYPE=INTEGER COUNT=(0:1)                DEFAULT=--
PARM NS       TYPE=INTEGER COUNT=(0:1)                DEFAULT=--
PARM NOSEDR   TYPE=KEYWORD COUNT=(0:1) VALID=NOSEDR   DEFAULT=--
PARM NOINTERP TYPE=KEYWORD COUNT=(0:1) VALID=NOINTERP DEFAULT=--
PARM DNTHRESH TYPE = INTEGER  COUNT=1  DEFAULT=0
PARM PLANET   TYPE=STRING  COUNT=(0:1)                DEFAULT=""
PARM MM71     TYPE=KEYWORD COUNT=(0:1) VALID=MM71     DEFAULT=--
PARM MVM73    TYPE=KEYWORD COUNT=(0:1) VALID=MVM73    DEFAULT=--
PARM VI76     TYPE=KEYWORD COUNT=(0:1) VALID=VI76     DEFAULT=--
PARM VGR1     TYPE=KEYWORD COUNT=(0:1) VALID=VGR1     DEFAULT=--
PARM VGR2     TYPE=KEYWORD COUNT=(0:1) VALID=VGR2     DEFAULT=--
PARM GLL      TYPE=KEYWORD COUNT=(0:1) VALID=GLL      DEFAULT=--
PARM NOPROJEC TYPE=KEYWORD COUNT=(0:1) VALID=NOPROJEC DEFAULT=--
PARM DAS      TYPE=INTEGER COUNT=(0:1)                DEFAULT=--
PARM FDS      TYPE=INTEGER COUNT=(0:1)                DEFAULT=--
PARM FSC      TYPE=INTEGER COUNT=(0:1)                DEFAULT=--
PARM RADII    TYPE=REAL    COUNT=(0:3)                DEFAULT=--
PARM LORA     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM CSCALE   TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM FOCL     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM CSAMP    TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM CLINE    TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM CAMERA   TYPE=INTEGER COUNT=(0:1)                DEFAULT=--
PARM DISTOR   TYPE=KEYWORD COUNT=(0:1)	VALID=(DISTOR,IMAGE,OBJECT) DEFAULT=--
PARM CMATRIX  TYPE=REAL    COUNT=(0:9)                DEFAULT=--
PARM MEMATRIX TYPE=REAL    COUNT=(0:9)                DEFAULT=--
PARM OMMATRIX TYPE=REAL    COUNT=(0:9)    	      DEFAULT=--
PARM VRVECTOR TYPE=REAL    COUNT=(0:3)                DEFAULT=--
PARM RSVECTOR TYPE=REAL    COUNT=(0:3)                DEFAULT=--
PARM SLATITUD TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM SLONGITU TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM RMAGNITU TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM TIME     TYPE=INTEGER COUNT=(0:6)                DEFAULT=--
PARM RTAS     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM DECLINAT TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM QUAM     TYPE=KEYWORD COUNT=(0:1)	VALID=QUAM    DEFAULT=--
PARM CLATITUD TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM CLONGITU TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM NORANGLE TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM ISSCPT   TYPE=REAL    COUNT=(0:2)                DEFAULT=--
PARM OSSCPT   TYPE=REAL    COUNT=(0:2)                DEFAULT=--
PARM MERCATOR TYPE=KEYWORD COUNT=(0:1) VALID=MERCATOR DEFAULT=--
PARM LAMBERT  TYPE=KEYWORD COUNT=(0:1) VALID=LAMBERT  DEFAULT=--
PARM STEREOGR TYPE=KEYWORD COUNT=(0:1) VALID=STEREOGR DEFAULT=--
PARM CYLINDRI TYPE=KEYWORD COUNT=(0:1) VALID=CYLINDRI DEFAULT=--
PARM RECTANGU TYPE=KEYWORD COUNT=(0:1) VALID=RECTANGU DEFAULT=--
PARM ORTHOGRA TYPE=KEYWORD COUNT=(0:1) VALID=ORTHOGRA DEFAULT=--
PARM OBCYLIND TYPE=KEYWORD COUNT=(0:1) VALID=OBCYLIND DEFAULT=--
PARM SINUSOID TYPE=KEYWORD COUNT=(0:1) VALID=SINUSOID DEFAULT=--
PARM OBSINUSO TYPE=KEYWORD COUNT=(0:1) VALID=OBSINUSO DEFAULT=--
PARM MOLLWEID TYPE=KEYWORD COUNT=(0:1) VALID=MOLLWEID DEFAULT=--
PARM TMERCATO TYPE=KEYWORD COUNT=(0:1) VALID=TMERCATO DEFAULT=--
PARM PERSPECT TYPE=KEYWORD COUNT=(0:1) VALID=PERSPECT DEFAULT=--
PARM SOUTH    TYPE=KEYWORD COUNT=(0:1) VALID=SOUTH    DEFAULT=--
PARM POLE     TYPE=KEYWORD COUNT=(0:1) VALID=POLE     DEFAULT=--
PARM SCALE    TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM LINE     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM SAMPLE   TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM LATITUDE TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM LONGITUD TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM PAR1     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM PAR2     TYPE=REAL    COUNT=(0:1)   	      DEFAULT=--
PARM LIN1     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM LIN2     TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM NORTH    TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM PLATITUD TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM PLONGITU TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM PLINE    TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM PSAMPLE  TYPE=REAL    COUNT=(0:1)                DEFAULT=--
PARM RECENTER TYPE=KEYWORD COUNT=(0:1)	VALID=RECENTER DEFAULT=--
PARM NOGEOM   TYPE=KEYWORD COUNT=(0:1)	VALID=NOGEOM  DEFAULT=--
PARM SHORT    TYPE=KEYWORD COUNT=(0:1)	VALID=SHORT   DEFAULT=--
PARM NOLABEL  TYPE=KEYWORD COUNT=(0:1)	VALID=NOLABEL DEFAULT=--
PARM BYTE     TYPE=KEYWORD COUNT=(0:1)  VALID=BYTE    DEFAULT=--
PARM HALF     TYPE=KEYWORD COUNT=(0:1)  VALID=HALF    DEFAULT=--
PARM GEODET   TYPE=KEYWORD COUNT=(0:1)	VALID=GEODET  DEFAULT=--
PARM NAM2     TYPE=KEYWORD COUNT=(0:1)	VALID=NAM2    DEFAULT=--
PARM TIEPTS   TYPE=REAL    COUNT=(0:80)               DEFAULT=--
PARM REFTIME TYPE=INTEGER COUNT=(0,6) DEFAULT=--
PARM ZVP TYPE=STRING COUNT=(0:1)                               +
     default="/project/test_work/testdata/mipl/vgr/jupiter.zvp"
PARM TARGET     TYPE=(STRING,12) COUNT=0:1			DEFAULT=--
PARM SPICEMODE  TYPE=KEYWORD     COUNT=0:1 VALID=(LOCAL,REMOTE) DEFAULT=--
PARM CKNAME     TYPE=(STRING,4)  COUNT=1			DEFAULT=DAVI
PARM CKID       TYPE=(STRING,4)  COUNT=1			DEFAULT=NONE
PARM USERID     TYPE=(STRING,3)  COUNT=0:1			DEFAULT=--
PARM GROUPID    TYPE=(STRING,3)  COUNT=0:1			DEFAULT=--
PARM INSTITUTE  TYPE=(STRING,4)  COUNT=1			DEFAULT=NONE
PARM CDATE      TYPE=(STRING,12) COUNT=1		DEFAULT=000000000000
PARM REQNUM     TYPE=(STRING,4)  COUNT=1			DEFAULT=NONE
PARM PURPOSE    TYPE=(STRING,4)  COUNT=1			DEFAULT=NONE
PARM PROGRAM    TYPE=(STRING,6)  COUNT=1			DEFAULT=*NONE*
PARM SPKID      TYPE=(STRING,4)  COUNT=1			DEFAULT=NONE
PARM PRINT      TYPE=INTEGER     COUNT=(0,2)                    DEFAULT=--
END-PROC
.TITLE
VICAR program MAP3 -- performs map projection rubber-sheeting
.HELP
PURPOSE
	MAP3 performs the necessary calculations of a rubber-sheet stretch
 on a picture to convert it from a perspective projection (in which 
 latitudes and longitudes are complicated functions of line and sample
 depending on the position and orientation of the camera) to a standard
 cartographic projection (in which longitude and latitude are simpler
 functions of line and sample that are independent of camera viewing
 geometry).  The following projections are currently implemented:
		Mercator
		Lambert Two-Standard Conformal Conic
		Oblique and Polar Orthographic
		Oblique and Polar Stereographic
		Cylindrical (Normal)
		Simple Cylindrical (Rectangular)
                Transverse Mercator
                Oblique Simple Cylindrical.
                Sinusoidal
                Oblique Sinusoidal
                Mollweid
                Perspective 
.PAGE
 EXECUTION
	      map3 INP OUT SIZE PARAMS
    -or-
	      map3 (INP,GEOM) OUT SIZE PARAMS

    SEE Parameter Section for explanation of parameters.

.page
PARAMETERS FOR RETRIEVING CAMERA POINTING FROM SPICE:

The following parameters permit the user to retrieve a specific instance of
camera pointing from the SPICE kernels:

SPICEMODE specifies whether SPICE data is retrieved from LOCAL kernels or
or via the REMOTE SPICE server.  If defaulted, SPICEMODE is set to the value
of the environmental variable DEFAULTSPICE.

CKNAME and CKID are alternative ways to specify the C kernel to be used.  For
example, CKNAME=FARE or CKID=M904 specifies that MIPS_FARENC.CK is to be used.
When specified, the CKID parameter overrides the CKNAME parameter.  If the
camera pointing data is not found in the requested C kernel, the other C kernels
are searched.

Within a given C kernel, there may be a number of different versions of camera
pointing for a given image.  The segment identifier for each version contains
provenance information identifying the creator of the pointing data.  One or
more of the following parameters may be used to retrieve a specific instance of
camera pointing based upon this provenance information:

CDATE specifies the date and time the camera pointing was created.
REQNUM identifies the request number associated with the camera pointing.
PURPOSE identifies the purpose for creating the camera pointing.
PROGRAM identifies the program which created the camera pointing.
SPKID identifies the SP-kernel used to create the camera pointing.
USERID identifies the user who created the camera pointing.
GROUPID identifies the group which created the camera pointing.
INSTITUTE identifies the facility which created the camera pointing.

A complete list of CK and SPK IDs are located in the ASCII file assigned the
logical name (or environmental variable) KERNELDB.

The above parameters are optional, and if defaulted (or if no data is found for
the requested version), the program will attempt to locate the "best" data
available for the given image.  See the level 2 help (via the TAE tutor mode)
for further details.

Examples:  'LOCAL CKNAME=NAIF specifies that SPICE data be retrieved from
          local kernels using camera pointing from predicts or AACS telemetry.

           'REMOTE CKNAME=FARE INSTITUTE=MIPS SPKID=N015 USERID=ADC retrieves
          the camera pointing created by Amy Culver at MIPS using the SP kernel
          GLL_LONG_2.BSP from file MIPS_FARENC.CK via the SPICE server.  (whew!)

It takes longer to search for SPICE data on the basis of provenance
information.  If all provenance parameters are specified, for example, the
program first searches through all the C kernels for an exact match.  If no
match is found, the search is relaxed by removing the CDATE criteria.  If no
match is found, the REQNUM criteria is removed.  Etc.

.PAGE
 OPERATION
	MAP3 begins by examining the input picture label to determine if it
contains a map label for a perspective projection.  If so, the program will
not access the SPICE/SEDR and will extract the needed input navigation from
this label.
Then the program checks the label to see if the  frame comes from one of the
standard flights:  Mariner 9, Mariner 10, Viking  Orbiters 1 and 2 Voyager or
Galileo.  If so, and if SPICE/SEDR data is available, camera 
 pointing information and the latitudes and longitudes of the four corners and 
 center of the input frame are read from the SEDR.  Otherwise the parameter 
 list is checked to see if latitude and longitude of the center of the input 
 frame are specified.  The latitudes and longitudes are used only to determine 
 a projection type if the user does not specify one via parameters.  However, 
 the pointing information is vital and must be obtained by MAP3 somehow or it 
 will ABEND.  See VIEWING GEOMETRY PARAMETERS section for details.
	Next, the program mathematically specifies the output projection in
 full.  The required data consists of the projection type and projection-depen-
 dent information such as the center of projection, standard parallels,
 central meridian, angle of north in the output picture, and position in the
 output of the center of projection pole or equator, etc. See Reference (2)
 for a detailed description of which parameters specify which projection.  A
 description of the size and shape of the planet is also required at this
 stage.  MAP3 checks the parameter list for user specifications, then computes
 the remaining parameters (if any) using a set of default algorithms.
	Next, the program checks the parameter list for any user overrides or
 supplements to the camera optical geometry information and viewing geometry
 data.  Then the 'output' picture is spanned by a grid of tiepoints.
 At each point the projection descriptive data determines the latitude and
 longitude which must map there.  The camera optics and viewing geometry data
 are used to compute, from the latitude and longitude, the line and sample of
 the corresponding point in an undistorted (geometrically) input picture.  If
 instructed to do so, MAP3 transforms the undistorted input line and sample
 to a distorted (image space) line and sample.  The result of this process is a
 set of points in the output picture for which the corresponding input
 points are known, whether or not the input frame has been geometrically
 corrected.  Map3 then performs the GEOM operation on the input image to
 form the output image.
        The geom operation is performed upon each grid square independently.
 The operation depends upon the number of vertices of the square which
 fall on the planet:
 1. No vertices on the planet:
	The output is set to zero for this square.
 2. All 4 vertices are on the planet:
	The output is interpolated from the input using a polynomial model to
	map from output to input of the form:
       		line_in=c1*L+c2*s+c3*L*s+c4
       		samp_in=k1*L+k2*s+k3*L*s+k4
 3. One to three vertices are on the planet:
	Compute the exact transformation to map output to input.

.PAGE
 PARAMETERS
	MAP3 is designed to be easy to use, at least for standard flight
 pictures.  But it is also a flexible program performing a complex task.  It
 needs a large amount of auxiliary information concerning planet size and
 shape, camera optics, viewing geometry, and a precise specification of the
 projection desired.  For standard flights, the planetary data and camera
 specifications are built into MAP3.  SEDR's are usually available to provide
 viewing geometry parameters, and the projection description parameters may
 always be defaulted.  But to provide sufficient program flexibility to
 handle non-standard flight pictures, bad or missing SEDR's, and mosaicking
 capability, a very large number of parameters are available.
	Each of the following sections describes some subset of the parameters,
 grouped according to function.  Each section is preceded by an explanatory
 introduction.  The following conventions are observed.  Within each section
 numerical parameters are numbered consecutively.  Parameters required to be
 integers begin with N; floating point parameters begin with R. NOTE:  
ALL LATITUDES ARE  GEOCENTRIC; ALL LONGITUDES ARE WEST.  ALL PARAMETERS ARE
EXPLAINED IN DETAIL  IN THE PARAMS SECTION. 

.PAGE
 FLIGHT RELATED PARAMETERS
	MAP3 normally determines the flight from the picture label. It
 recognizes Mariner 9, Mariner 10, Viking Orbiter, Voyager and Galileo labels.
 If the label is bad or missing, the following parameters can be used to
 specify the flight.
 
          MM71  MVM73  VI76  VGR1  VGR2  GLL  noprojec
 
 If the picture label is not from one of the standard flights and these
 parameters are defaulted, a non-standard flight is assumed, requiring the
 user to enter all necessary information through the parameter list.
                   DAS         FDS          FSC
.PAGE
 PLANET DESCRIPTIVE PARAMETERS
	MAP3 must know the radii of the target body being projected.  In the
 case of Voyager, these are normally obtained from the SEDR.  For other
 flights, or to override the Voyager SEDR values, the following keywords can
 be used.
                    RADII        TARGET         LORA
.PAGE
 CAMERA DESCRIPTIVE PARAMETERS
	This group defines the camera optical system.  All can be defaulted
 for standard flights because correct values are built into MAP3.
 These should be specified (unless there is a default) if NOPROJEC is specified.
     CSCALE     FOCL     CLINE     CSAMP     CAMERA
     DISTOR     IMAGE    OBJECT

.PAGE
 VIEWING GEOMETRY PARAMETERS
	The camera viewing geometry is specified by a vector and rotation
 matrix.  The vector, called the RS vector, is the vector from the center of
 the planet to the spacecraft, specified in the planet coordinate system.  The
 matrix, called OM, rotates vectors from the planet coordinate system to the
 camera system.  Reference (3) contains a complete description of how camera
 optics data, planetary radii, and the RS vector and OM matrix allow a line
 and sample to be computed from a latitude and longitude.
	MAP3 can obtain RS and OM in several different ways.  They can be
 specified in the parameter list or computed by one of four different
 algorithms.  In addition, they can be obtained from the SPICE/SEDR for some 
 Voyager and for Galileo frames.
  The following sections describe these various methods.
     1.  Direct Specification by the User
         Parameters in this subsection can be used by themselves to
         completely specify RS and OM.  Or they can be used individually to
         override specific SEDR entries or to supply necessary information
         needed by the algorithms described in later subsections.
         CMATRIX     MEMATRIX     OMMATRIX      VRVECTOR     RSVECTOR     
                 SLAT         SLON          RMAG
     2. Default Algorithm
        In this algorithm (the default), the RS vector is computed from
        the ME matrix and the VR vector.  The OM matrix is computed from
        the C and ME matrices.  This algorithm is considered inferior
        because the camera pointing information in the C matrix usually
        does not have very great accuracy.  The C matrix and the VR vector
        are normally obtained from the SEDR.  The ME matrix is usually
        obtained from the SEDR also, except for Mariner 9, whose SEDR does
	not contain an ME matrix.  If an ME matrix is not obtained from the
	SEDR or parameter list, MAP3 will attempt to calculate it using
	built-in ephemeris data.  This is possible only for the five inner
	planets and the moon.  The following parameters can be used to
	override data used to calculate the ME matrix.
		TIME          RTAS          DECLINAT(Declination)
     3. QUAM Algorithm
	If the RS vector is known, the OM matrix can be computed from
	another vector, called RRP5, and the angle of north in the image
	plane, using an algorithm developed by Lynn Quam.  The RRP5 vector
	is the vector, in the planet coordinate system, from the planet
	center to the intersection of the camera's optical axis and the
	planet's surface (in other words to the point in the center of the
	input frame).
	      QUAM         CLAT        CLON        NORA
     4. FAR ENCOUNTER Algorithm
	Given the RS vector and the north angle, the OM matrix can be com-
	puted if the line and sample of the subspacecraft point in the input
	picture are known.  The RS vector is computed from SLAT, SLON, and
	RMAG (see subsection 1).  The algorithm, developed by Denis Elliott,
	is usually applicable only for pictures containing all or most of the
	planet, since only then can the line and sample of the subspacecraft
	point be determined directly from the input image.
		ISSCPT       NORA       OSSCPT
     5. TIEPOINTS Algorithm
	If the latitude and longitude of three or more points at specified
	lines and samples are known, as well as the RS vector, the OM matrix
	may be computed using still another algorithm, developed by Arnie
	Schwartz.  The RS vector is obtained in the same way as for the FAR
	ENCOUNTER algorithm.
			TIEPTS
.PAGE
 PROJECTION DESCRIPTIVE PARAMETERS
	The parameters in this group are used to describe the output
 projection to the program.  The projection type, scale, and position of the
 input frame in the output frame are under user control.  For oblique and
 polar orthographic and stereographic, the orientation of the input in the
 output is also under user control.
	Some of the parameters have slightly different meanings depending on
 the projection type.  So this section will be divided into projection-related
 subsections.  Some parameters will be discussed more than once.
	All parameters in all subgroups are optional.  The default philosophy
 is: "Where applicable, choose a center of projection in the center of the
 input picture.  Center the input in the output.  Where orientation is not
 fixed (Mercator and Lambert always have north at the top), preserve the
 orientation of the input in the output.  Subject to the above restrictions,
 which have priority, scale the output projection so that the input frame
 nearly fills the output frame without loss of data over the edge. Also make
 the scale come out so that it is one of nine standard numbers times a power
 of ten."

.PAGE
     1. Choice of Projection
	The parameters in this subgroup are used to specify the projection
	type.  If the user makes no choice the program decides as follows:
	For Standard flights with the SEDR available, the latitude of the
	center of the input image is obtained from the SEDR.  If the absolute
	value of the latitude is less than 30 degrees, a Mercator projection 
	results.  If it is greater than 65 degrees, a Polar Stereographic
	projection is used.  Otherwise a Lambert Two-Standard Conformal Conic
	is chosen, with standard parallels at 59 degrees.17 and 35 degrees.83
	or -35 degrees.83 and 59 degrees.17, depending on the sign of the 
	latitude.  If no SEDR is available (as for non-standard flight
	pictures) the program checks to see if CLAT was specified (see QUAM
	algorithm subsection).  If so, its value is used in the above test. 
	If not, an Orthographic projection is chosen.
        
.PAGE
        The choices of projection are:

        ORTHOGRA                 Oblique Orthographic
        ORTHOGRA POLE            Polar Orthographic
        STEREOGR                 Oblique Stereographic
        STEREOGR POLE            Polar Stereographic
        LAMBERT                  Lambert Two Standard Conformal Conic
        MERCATOR                 Mercator
        TMERCATO                 Transverse Mercator
        CYLINDRI                 Normal Cylindrical
        RECTANGU                 Simple Cylindrical or Rectangular
        OBCYLIND                 Oblique Simple Cylindrical
        SINUSOID                 Sinusoidal
        OBSINUSO                 Oblique Sinusoidal
        MOLLWEID                 Mollweide
        PERSPECT                 Perspective 

.PAGE
     2. Projection Scaling
	In all map projections, there is at least one point at which the scale
	of the projection equals the scale on the sphere.  The scale at such
	points, in km/pixel, determines the size of the input picture in the
	output area.  For the Mercator projection, scale is correct everywhere
	on the equator.  For the Lambert, it is valid all along both standard
	parallels.  For the Orthographic and Stereographic, it is valid at the
	center of projection.  If no scale is specified, one will be computed
	so that the input picture is as large as possible without loss of
	data.  Then this scale is rounded to one of nine standard values in
	such a way as to make the projection of the input frame slightly
	smaller.
				SCALE

.PAGE
     3. Projection Descriptive Parameters for Mosaicking
	The Mercator projection, for which the LINE, SAMPLE, LATITUDE, and
	LONGITUDE parameters can be used to place any desired point anywhere
	in the output, and the Polar Stereographic and Orthographic, for which
	the default is to center the input picture in the output frame REGARD-
	LESS of the position of the pole, are easy to use to produce large
	scale mosaics with the above parameters.  For such mosaics it is impor-
	tant that the scale, latitude and longitude of special points, meri-
	dians, or parallels, and orientation be constant in all projections.
	Then good results can be obtained by simple translation of the pro-
	jected pictures.  But for the Lambert and Oblique Stereographic and
	Orthographic projections, the previously discussed parameters are
	clumsy to use for mosaicking.  Frequently, the center of projection or
	central meridian is far outside the input frame.  Defaulting LINE and
	SAMPLE then leads to an all zero output frame.  To overcome the
	problem, users were formerly forced to compute line and sample
	parameters using the equations describing their projection.  A new 
	group of parameters, explained below, allows the user to specify an
	approximate line and sample for an arbitrary point unrelated to the
	center of projection or the central meridian.  The program then 
	computes values of the LINE and SAMPLE parameters consistent with the 
	user's specification and acts as if these values were present in the 
	parameter list (see the Lambert subsection for restrictions on the use 
	of the LINE parameters).  Note also that the value of SCALE is required
 	in order to perform the calculations.  For the Lambert case, this means
	that LIN1 and LIN2 may not be used if any of the keywords below are 
	present.
		The group below is collectively called "recentering parameters"
	because the center of projection is repositioned from its normal 
	default location.  The presence of any of the recentering parameters 
	implies the use of repositioning algorithms which, to repeat, have the 
	effect of overriding default values of LINE and SAMPLE.  Therefore, 
	LINE and SAMPLE should not be used if recentering is used.  The LINE 
	and SAMPLE values are computed so that a specified point projects as 
	close as possible to a specified output pixel, subject to the 
	constraint that the center of projection (pole for Lambert) projects 
	to an integral pixel. This restriction ensures that translational 
	offsets for various parts of a mosaic are all integral numbers of 
	pixels.
		PLAT     PLON     PLINE     PSAMPLE     RECENTER

.PAGE
     4. Lambert Projection Parameters
        LINE      The line in the output to which the pole will project.
        SAMPLE    The sample to which the central meridian projects,
                  specified by LONGITUDE.
        SCALE     The scale in km/pixel at the standard parallels.
        PAR1      The latitude in degrees of the northernmost of the two 
		  standard parallels. 
                  Default is 59.17 for northern hemisphere input frames 
		  and -35.83 for southern.  
        PAR2      The southernmost of the two  standard parallels. 
                  Default is 35.83 or -59.17. PAR1 and PAR2 must have the same 
		  sign or the projection is undefined.
        LIN1      The line in the output frame at which the northern standard 
		  parallel's projected arc is to intersect the central 
		  meridian.
        LIN2      The same as LIN1 but refers to the  southern standard 
		  parallel.
        LATITUDE  The projected parallel which will intersect the central 
		  meridian at line NL/2, where NL is obtained from the size 
		  field on the EXEC card.  R3 need not be a standard parallel. 
		  Default is to use the latitude of the center of the input 
		  picture for R3.  This can have unpleasant results (such as a 
		  completely black output picture) if the central meridian does
		  not appear in the output frame (see the mosaicking subsection
		  for ways to avoid this problem). 
        LONGITUD  The longitude, in degrees, to be used as the central
                  meridian.  The default is the longitude of the center of the
                  input picture.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.  It is suggested that you 
		  use this parameter along with PLAT and PLONG !  The line and
		  sample that goes with a certain latitude and longitude can 
		  be specified using PLINE, PSAMP, PLATITUD, PLONGITU. 
		  Otherwise these will default to the center of the output and 
		  the lat/lon in the center of the input image respectively.

        NOTES:
	The scale and vertical placement of the output image can be specified
	in a variety of ways.  Do not attempt to overspecify the projection.
	Further explanation will follow keywords below.
 	  LATITUDE     LONGITUD     SAMPLE     PAR1     PAR2     LIN1
		   LIN2		LINE
	In the Lambert projection, any two of the parameters SCALE, LINE, LIN1,
	and LIN2 are sufficient to specify the other two.  In view of this, 
	MAP3 proceeds as follows:

  	  If three or more of the above are specified, 
		the program ABENDS because it probably cannot satisfy all the 
		demands. The projection has been overspecified.
	  If two are specified, 
		their values are used and the remaining two are computed from 
		them.
	  If any of the line parameters are specified, but neither SCALE nor 
	  the other line parameters are, 
		the value of the specified parameter is used. Then SCALE is 
		computed in the usual default manner. Then the other two line 
		parameters follow.
	  If SCALE is specified but none of the line parameters, 
		the value of the LATITUDE parameter obtained from the parameter
		list or by default is used to compute the values of LINE, LIN1,
 		and LIN2 in a consistent manner.
	  If none of the parameters are specified, 
		SCALE is computed in the usual way and then the program 
		proceeds as if SCALE alone were specified.

	From the above discussion it should be clear that if any of LINE, LIN1,
	or LIN2 appear as parameters, the LATITUDE parameter is ignored.

.PAGE
     5. Mercator projection parameters:
        LINE      The line in the output to which LATITUDE will project.
                  Defaults to 1.0.
        SAMPLE    The sample in the output to which LONGITUDE will project.
                  Defaults to 1.0.
        LATITUDE  The latitude of LINE in the output.
                  Default computes latitude to center input in output.
        LONGITUDE The longitude of SAMPLE in the output.
                  Default computes longitude to center input in output.
        SCALE     The scale in km/pixel at the equator.        
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.  It is suggested that you 
		  use this parameter along with PLAT and PLONG !  The line and 
		  sample that goes with a certain latitude and longitude can 
		  be specified using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise 
		  these will default to the center of the output and the 
		  lat/lon in the center of the input image respectively.

.PAGE
     6. Cylindrical projection parameters:
        LINE      The line in the output to which LATITUDE will project.
                  Defaults to 1.0.
        SAMPLE    The sample in the output to which LONGITUDE will project.
                  Defaults to 1.0.
        LATITUDE  The latitude of LINE in the output.
                  Default computes latitude to center input in output.
        LONGITUDE The longitude of SAMPLE in the output.
                  Default computes longitude to center input in output.
        SCALE     The scale in km/pixel at the equator.        
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
     7. Simple Cylindrical (rectangular) projection parameters:
        LINE      The line in the output to which LATITUDE will project to.
                  Defaults to 1.0
        SAMPLE    The sample in the output to which LONGITUDE will project to.
                  Defaults to 1.0
        LATITUDE  The latitude of LINE in the output.
                  Default computes latitude to center input in output.
        LONGITUDE The longitude of SAMPLE in the output.
                  Default computes longitude to center input in output.
        SCALE     The scale in km/pixel at the equator.        
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
     8. Oblique Stereographic projection parameters.
        LINE      The line of the center of projection in the output.
                  Defaults to nlout/2.
        SAMPLE    The sample of the center of projection in the output.
                  Defaults to nsout/2.
        LATITUDE  The latitude of the center of projection.
                  Defaults to the latitude at the center of the input.
        LONGITUDE The longitude of the center of projection.
                  Defaults to the longitude at the center of the input.
        SCALE     Scale in km/pixel at the center of projection.
        NORTH     Angle of the projected spin axis of the north pole
                  measured in degrees clockwise from up in the output.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
     9. Oblique Orthographic projection parameters.
        LINE      The line of the center of projection in the output.
                  Defaults to nlout/2.
        SAMPLE    The sample of the center of projection in the output.
                  Defaults to nsout/2.
        LATITUDE  The latitude of the center of projection.
                  Defaults to the latitude at the center of the input.
        LONGITUDE The longitude of the center of projection.
                  Defaults to the longitude at the center of the input.
        SCALE     Scale in km/pixel at the center of projection.
        NORTH     Angle of the projected spin axis of the north pole
                  measured in degrees clockwise from up in the output.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
    10. Polar Stereographic projection parameters.
        LINE      The line in the output to which the pole will project. 
                  Defaults to nlout/2.
        SAMPLE    The sample in the output to which the pole will project. 
                  Defaults to nsout/2.
        LATITUDE  If latitude is + or - 90 degrees a 
                  polar projection results 
                  whether or not the parameter POLE is also specified. 
                  If POLE is specified, the sign of the LATITUDE 
                  parameter (if present) determines which pole is used 
                  as the center of projection.
        LONGITUDE The west longitude in degrees of the meridian which
                  will point up from the pole in the output. Default is to 
                  compute lon so that the upper left and upper right corners of
                  the input are projected to the same line in the output. 
                  This algorithm minimizes rotation from input to output 
                  regardless of the location of the pole in either picture.
                  This algorithm will not work if either of the upper corners 
                  of the picture is off the planet. In this case LONGITUD must 
                  be specified. Note that the default calculation of
                  orientation is, in a sense, more powerful for polar than 
                  oblique projections. In the oblique projections the algorithm
                  used minimizes rotation only if the center of projection 
                  lies within the input frame. A superior algorithm is 
                  available for the polar projections because of the many
                  simplifications of the projection equations due to the fact
                  that longitude meridians are all straight lines.
        SCALE     The scale in km/pixel at the center of projection. 
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
    11. Polar Orthographic projection parameters.
        LINE      The line in the output to which the pole will project.
                  Defaults to nlout/2.
        SAMPLE    The sample in the output to which the pole will project. 
                  Defaults to nsout/2.
        LATITUDE  If latitude is + or - 90 degrees a 
                  polar projection results 
                  whether or not the parameter POLE is also specified. 
                  If POLE is specified, the sign of the LATITUDE 
                  parameter (if present) determines which pole is used 
                  as the center of projection.
        LONGITUDE The west longitude in degrees of the meridian which
                  will point up from the pole in the output. Default is to 
                  compute lon so that the upper left and upper right corners of
                  the input are projected to the same line in the output. 
                  This algorithm minimizes rotation from input to output 
                  regardless of the location of the pole in either picture.
                  This algorithm will not work if either of the upper corners 
                  of the picture is off the planet. In this case LONGITUD must 
                  be specified. Note that the default calculation of
                  orientation is, in a sense, more powerful for polar than 
                  oblique projections. In the oblique projections the algorith 
                  used minimizes rotation only if the center of projection 
                  lies within the input frame. A superior algorithm is 
                  available for the polar projections because of the many
                  simplifications of the projection equations due to the fact
                  that longitude meridians are all straight lines.
        SCALE     The scale in km/pixel at the center of projection. 
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
    12. Oblique Simple Cylindrical projection parameters.
        LINE      Line in output to which latitude=0 will project.
                  Defaults to nl/2.
        SAMPLE    Sample in output to which longitude=180 will project.
                  Defaults to ns/2.
        LATITUDE  The new latitude of the position to which the North pole
                  will move in the oblique space.
                  Defaults to +90 degrees.
        LONGITUDE The new longitude of the position to which the North pole
                  will move in the oblique space.
                  Defaults to 0.0.
        PAR1      The new longitude in the oblique space to which
                  LONGITUDE will move.
        SCALE     The scale in km/pixel.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.
        
        Suggestions: Use RECENTER and PLAT,PLONG. If you use RECENT, then
        the program will know where you sent the pole (using LATI,LONG)
        and will assure that the PLAT,PLONG you specified maps to the
        center of the output. For example, if you specified:
                LATI=0 LONG=180 PAR1=180 
        the North pole would rotate to latitude=0 longitude=180.
        If you also specified:
                'RECENT PLAT=90. PLONG=60.
        then you would be assured to see the pole centered in the output
        but projected as though it were really at latitude=0 longitude=180.
.PAGE
    13. Sinusoidal projection parameters.
        LINE      The output line of the latitude specified by LATITUDE.
                  Defaults to the center of the output.
        SAMPLE    The output sample of the reference longitude 
                  specified by LONGITUDE.
                  Defaults to the center of the output.
        LATITUDE  The latitude placed at LINE in the output.
                  Defaults to the center of the input.
        LONGITUDE The REFERENCE longitude for the projection
                  ( that longitude which maps to a vertical line ).
                  Defaults to the center of the input.
        SCALE     The scale in km/pixel at the equator.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
    14. Oblique Sinusoidal projection parameters.
        LINE      Line in output to which latitude=0 will project.
                  Defaults to nl/2.
        SAMPLE    Sample in output to which longitude=180 will project.
                  Defaults to ns/2.
        LATITUDE  The new latitude of the position to which the North pole
                  will move to in the oblique space.
                  Defaults to +90 degrees.
        LONGITUDE The new longitude of the position to which the North pole
                  will move to in the oblique space.
                  Defaults to 0.0.
        PAR1      The new longitude in the oblique space to which
                  LONGITUDE will move.
        SCALE     The scale in km/pixel on the oblique equator.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.
        
        Suggestions: Use RECENTER and PLAT,PLONG. If you use RECENT then
        the program will know where you sent the pole (using LATI,LONG)
        and will assure that the PLAT,PLONG you specified maps to the
        center of the output. For example if you specified:
                LATI=0 LONG=180 PAR1=180 
        the North pole would rotate to latitude=0 longitude=180.
        If you also specified:
                'RECENT PLAT=90. PLONG=60.
        then you would be assured to see the pole centered in the output
        but projected as though it were really at latitude=0 longitude=180.

.PAGE
    15. Mollweide projection parameters.
        LINE      The output line of latitude 0.
                  Defaults to the center of the output.
        SAMPLE    The output sample of the reference longitude 
                  specified by LONGITUDE.
                  Defaults to the center of the output.
        LATITUDE  not used.
        LONGITUDE The REFERENCE longitude for the projection.
                  Will be a vertical line in the output.
                  Defaults to the center of the input.
        SCALE     The scale in km/pixel at latitude 40 deg 44 min N or S.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG !
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
    16. Transverse Mercator projection parameters.
        LINE      The output line of the latitude specified by LATITUDE.
                  Defaults to the center of the output.
        SAMPLE    The output sample of the reference longitude 
                  specified by LONGITUDE.
                  Defaults to the center of the output.
        LATITUDE  The latitude placed at LINE in the output.
                  Defaults to the center of the input.
        LONGITUDE The REFERENCE longitude for the projection
                  ( That longitude which maps to a vertical line ).
                  Defaults to the center of the input.
        SCALE     The scale in km/pixel at central meridian.
        RECENTER  Computes LINE and SAMPLE such that PLATITUD PLONGITU
                  go to that line and sample in the output.
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.

.PAGE
    17. Perspective projection parameters.
        In this projection the user may specify a "new camera" location (and
        even new camera descriptive parameters) to generate an output image
        corresponding to the perspective from the new location.  Changing
        the SCALE (specifying SCALE) changes the distance of the "new camera"
        to the planet.

        LINE      The output line of the center of projection. Is 
		  the line of
                  the new sub-spacecraft point in the output.
                  Defaults to center of output.
        SAMPLE    The output sample of the center of projection. Is 
                  the sample of the new sub-spacecraft point in the output.
                  Defaults to center of output.
        LATITUDE  The new sub-spacecraft point latitude in the output. 
                  Defaults to the input sub-spacecraft latitude.
        LONGITUDE The new sub-spacecraft longitude in the output.
                  Defaults to the input sub-spacecraft longitude.
        NORTH     The angle of the new north spin axis measured clockwise
                  from up in the output.
                  Defaults to the same as the input.
        SCALE     The scale in km/pixel in the output.
                  Defaults to the scale of the input picture.
        RECENTER  Computes LINE and SAMPLE such that the center of the input
                  maps to the center of the output.
                  It is suggested that you use this parameter along with
                  PLAT and PLONG if the field of view is so small that
                  the LATITUDE LONGITUD coordinate does not appear in
                  the input. 
                  The line and sample that goes with a certain latitude
                  and longitude can be specified
                  using PLINE,PSAMP,PLATITUD,PLONGITU. Otherwise these
                  will default to the center of the output and the lat/lon
                  in the center of the input image respectively.
.PAGE
PRECISION:

This portable version of MAP3 will produce basically the same output on
all of the MIPS-supported platforms.  This output will frequently not be
identical to the output of the unported version of MAP3, but the differences
will be trivial and should be improvements.

This section is required by the MSTP SRD for all programs that
do not meet the precision requirements given in the SRD.  The two requirements
not met by MAP3 are:
1) Integer data output by a ported program must be the same as that produced
   by the unported program.
2) Integer data output by a ported program must be the same on all of the
   MIPS-supported platforms.
All of the programs that do geometric transformations are going to have problems
meeting one or both of these requirements.   This includes MAP3, LGEOM, MGEOM,
GEOMA, and several others.  MAP3 was modified to increase the use of
Double Precision floating point arithmetic so that the second requirement is met
"well enough" and the first requirement is met "well enough". 
The definition of the above qouted term is given towards the end of this 
section.

In the port, MAP3 was modified to retain the full precision returned from
subroutine DSIMQ.  This was done to minimize the differences
produced on different platforms.  The results are somewhat more accurate
than those of the unported MAP3, but since the output DN values are rounded
to the nearest integer, the output images are essentially the same as for the
unported MAP3.

In computing the output pixel value (DN), MAP3 first determines if the pixel
lies on the planet.  If it does not, the output pixel value is set to 0.
If the pixel does lie on the (map-projected) planet, MAP3 uses subroutine 
CONVEV to compute the latitude and longitude from the output line and sample
coordinates.  Then it uses subroutine CORCAV to compute (in floating point)
the the input image line and sample coordinates from the latitude and
longitude.  Since the floating point line and sample coordinates generally lie
between the integer line and sample coordinates of four adjacent input pixels,
MAP3 uses bilinear interpolation to compute a pixel value for the floating
point location.  This is the value given to the output pixel. (This is a
simplification, but is adequate for this discussion of precision.) 

The image a2.map3 used in the MAP3 test pdf shows what type of
differences are likely to occur between the ported MAP3 and the unported MAP3.
The output file from the ported MAP3 is very slightly different
from the output file from the unported MAP3.  99.997% of the pixels are
identical.  All but one of the rest differ in value by 1.  The other pixel
differs in value by 129.

The cause of the differences is that the single precision computations
(unported MAP3) round differently than the double precision computations
(ported MAP3).  MAP3 rounds the results to the nearest integer.  Usually the
differences make no difference once the rounding occurs.  Only rarely do the
differences cause rounding up in one case and rounding down in the other, which
causes a difference of 1 in the output value.  In one case, the differences
caused the program to conclude the output pixel did not correspond to
an input pixel in one case but did in the other.  This occurred at the border 
of the non-zero section of the image  (planet limb or terminator.)
These two type of differences combines to produce
a slight but insignificant difference.  This difference is estimated at
less than 1% of the difference between using 'NOINTERP and using regular
interpolation, which is the definition I will use for "well enough".
I believe that such differences will not be humanly observable in an image
display.  

The image a2.map3 used in the MAP3 test pdf shows what type of what type of
differences are likely to occur (with the ported MAP3) between machines. 
The output file from the ported MAP3 on the DEC Alpha is very slightly different
from the output file on the Sun SparcStation.  99.997% of the pixels are
identical.  All but one of the rest differ in value by 1.  The other pixel
differs in value by 7.

In general, the differences between the results for the ported MAP3 on different
machines are comparable to the differences between the ported MAP3 and the
unported MAP3.  Both types of differences are on the order of the expected
rounding in single precision computations.  Although the bilinear interpolation
computation was upgraded to double precision, parts of the CONVEV and CORCAV
computation are in single precision.  
For a 1000 by 1000 byte image from 10 to 1000 slightly different pixels may be
expected.  This assumes matching SPICE data.  If the SPICE data differ 
significantly, the output images will not be comparable.
.PAGE
REFERENCES:

  1) MAP2 User's Guide 900-639, Vol. III (November 1973).
  2) JPL Publication 77-7, "Transformations from an Oblate Spheroid to a
     Plane and Vice Versa", (January 1977).
  3) "Digital Cartographic Projection", Proceedings of the Caltech/JPL
     Conference on Image Processing Technology, Data Sources and Software
     for Commercial and Scientific Applications, (November 1976).
  4) MIPS Map projection Software User's Guide D-11810, Ver. 1.1 (May 1994).

PROGRAM HISTORY:

 WRITTEN BY: A. R. Gillespie and C. A. Rofer     22 June 1972
 MODIFIED BY: Arnie Schwartz, Denis Elliott, Joel Mosher, Jean Lorre,
   Charles Avis, Helen (DeReuda) Mortenson, Florance Moss, John Reimer,
   Dave Glackin, Gary Yagi, Thuy Truong
 CURRENT COGNIZANT PROGRAMMER: Jean Lorre
 REVISION HISTORY:
     Nov 99  lwk  added some checks for silly values of NL, NS, SCALE, RADIUS;
                  added check for PAR1/2 for Lambert;  fixed problem with
                  Julian date ("Y2K" correction was being done twice)
     Nov 97  SP   Restored equation for RMAG_PERS for perspective projection.
                  This had been changed in Jan. 1997 erroneously, causing
                  distorted results, particularly when the new camera location
                  was close to the planet.
     Oct 96  SP   Correct handling of GLL summation mode.  Corrections for
                  handling DNTHRESH parameter and and interpolation.
                  Please note that even when the DNTHRESH parameter is 
                  defaulted, the associated algorithm will occasionally result
                  in minor changes (improvements) because pixels with a DN
                  value of 0 will not be used in the interpolation.  Differences
                  will typically be found where a zero pixel and a non-zero
                  pixel are adjacent.
     Aug 96  OAM  Added DNTHRESH parameter and subroutine setDnValue to
                  handle interpolation. 
     May 96  SP   Added proper initialization of variables.  Modified to
                  use GETSPICE2 and associated PDF parameters.
     Jan 96  SP   Reported to UNIX using many of changes from TLT but using
                  CONVEV instead of MP_XY2LL.  Modified to expect any second
                  input file to be in IBIS tiepoint format.
                  Added call to GLLGCOR to Farenc algorithm for Galileo support.
     AUG 94  TLT  Ported to UNIX (only suppports GLL input, does not support
                  output PERSPECTIVE projection).
                  Replaced CONVEV, TRANV, SEARCV2, MAPLABV2 w/ MP software.
                  Added keyword SPICE_SERVER.
     Sep 93  jjl  Permit space telescope data
     AUG 93  JJL  Permits perspective projection inputs.
     JUN 91  JJL  Extensive cleanup to help, test, added 6 projections.
     DEC 89  JJL  Perform own geom.
     Oct 89  JJL  Converted to project independent.
  29 OCT 89  GMY  Deleted FARENC keyword (invoked via ISSCPT or OSSCPT)
  23 Aug 89  GMY  Delete fiddling with FDS for WA of simultaneous exposure pair
  22 jun 89  jjl  Change flag to 1.0e+15 to fix lgeom artifact
  10 may 88  FFM  Add keyword 'SEDRSRC
  01 mar 88  GMY  Add check for NAV and NAV2 flags in SEDR when one or more
		  tiepoints is off planet.
  10-MAY-88  FFM  INCORPORATE "SEDRSRC" KEYWORD
  22-FEB-87  JAM  INCORPORATED SMT,SXP CHANGES 
                  SMT COMMENTED OUT CALLS TO SEDR73 AND ACOS3
                  SXP CHANGED OACALL TO VOLAB TO VOLABV2
  10-FEB-87  JAM  WARNING IF INPUT IS O.S. AND GEOM FILE INPUT
  28-DEC-86  JAM  INCORPORATE "NOPROJEC" KEYWORD
  23 Feb 86  JAM  FIX DISTAL
  23 Jan 86  JAM  Add 'IMAGE,'OBJECT
   4-JUL-85  JAM  START REORGANIZING PARAMETER PROCESSING
  28-JUN-85  JAM  REPLACE *CAL SUBROUTINES WITH R2LIB:CONVEV
  26-JUN-85  JAM  REPLACE TIECHK WITH R2LIB:TIECHV
  23-JUN-85  JAM  REPLACE FOMCL2 WITH R2LIB:FOMCLV
  23-JUN-85  JAM  REPLACE CORCAL WITH R2LIB:CORCAV
  22-JUN-85  JAM  REPLACE IPPCOR WITH R2LIB:IPPCOV
  15-JUN-85  JAM  CONVERT TO VICAR2
  23 APR 84  HBD  RESTRUCTURED SOME CODE AND DELETED SOME CALLS
                         TO OPEN AND CLOSE
   5 APR 84  HBD  DELETED CALLS TO OPEN BEFORE GLABEL CALLS
  24 MAR 84  JAM  CHANGE CALL TO LABEL FOR RECTANGULAR PROJECTION
  15 DEC 83  CCA  REMOVE IDS;MAKE DSRN 1=PDS (LABELED)
  02 AUG 83  JAM  CONVERT TO VAX
  02 MAY 83  JHR  BUGS
  10 JAN 82  JHR  CODE MODIFICATIONS, SLAT FROM SEDR79
                         CHANGED TO GEOCENTRIC
  12 APR 81  JHR  ADDED SIMPLE CYLINDRICAL PROJECTION
  10 MAR 81  JAM  READ OM MATRIX FROM VGR SEDR
  16 FEB 81  JAM  ALLOW MAP3 TO GET OMMATRIX FROM FARENC
   8 OCT 80  JJL  ADD KEYWORDS:
   8 OCT 80  JJL  OSSCPT,ISSCPT,LORA,GEODET,NAM2,HALF
  19 JUN 80  JAM  ADD VOYAGER FLIGHT INFORMATION
  28 MAY 80  JAM  CHANGE ROUTCO CALLS TO OUTCON
                         MUST INCLUDE OUTCON2 IN LINKEDIT
  25 MAY 80  JAM  PUT IN HALFWORD OPTION
     JAN 79  DLG  ADD VOYAGER MISSION MODULE
  30 AUG 78  DAE  TRIAXIAL SOLID
  03 JAN 77  DAE  USE EXACT EQUATIONS FOR SPHEROIDAL PLANETS
                  REDO DEFAULT NORTH ANGLE COMPUTATION
                  INSTALL RECENTERING OPTION FOR EASIER MOSAICING
  12 MAY 76  DAE  ADD FINAL VI76 CHANGES
  23 APR 76  DAE  RESTRUCTURE LINK EDIT TREE AND DISTOR SECTION
  05 FEB 76  DAE  CONVERT TO OS AND MAKE VO76 A STANDARD MISSION
  27 JUN 75  DAH  CHANGES FOR CONVERSION TO 360/OS
   1 MAR 75  DAE&AAS  VERSION XXX RELOCATABLE, FARENC & TIEPTS MODES
  01 JAN 73  AAS  LAMB.CONF.FIX/LABEL MISCOUNT PROBLEM/MULTPHASING
   SUPERMAP A.R.GILLESPIE
   ALGORITHMIC DEVELOPMENT - J.B.SEIDMAN
   MAP3 C.A.ROFER

.LEVEL1

.VARI INP
 STRING-(1:3)Required and
 optional input datasets.

.VARI OUT
 STRING-1 Required
 output dataset.

.VARI SIZE
 INTEGER-(1:4) Starting line,
 starting sample, number of
 lines, number of samples
 for output.

.VARI NL
 INTEGER-Number of lines in
 output.

.VARI NS
 INTEGER-Number of samples in
 output.

.VARI PLANET
 STRING-Target body name
 12 characters

.VARI NOSEDR
 KEYWORD-do not read project SEDR for
 pointing, trajectory,etc. data

.VARI NOINTERP
 KEYWORD-suppress interpolation

.VARI DNTHRESH
Interpolation DN
threshold. Pixel 
DNs > DNTHRESH
will be included.

.VARI NOGEOM
 KEYWORD to suppresses the
 fetch of LGEOM.

.VARI REFTIME
 INTEGER-Time of projection.
 For zonal flow
 correction.

.VARI ZVP
 STRING-Name of zonal
 flow file.

.VARI SHORT
 KEYWORD-implying SEDR input
 NOT the master Viking
 Orbiter SEDR.

.VARI NOLABEL
 KEYWORD-to supress label
 updating activity.

.VARI FORMAT
 KEYWORD-for data format.
 Valid:('HALF,'BYTE)

.VARI GEODET
 KEYWORD-to specify geodetic
 latitudes.

.VARI NAM2
 KEYWORD-to request projection
 for north angle.

.VARI MM71
 KEYWORD-Mariner 9 project

.VARI MVM73
 KEYWORD-Mariner 10 project

.VARI VI76
 KEYWORD-Viking project

.VARI VGR1
 KEYWORD-Voyager 1 project

.VARI VGR2
 KEYWORD-Voyager 2 project

.VARI GLL
 KEYWORD-Galileo project

.vari noprojec
 KEYWORD-non-flight project

.VARI DAS
 INTEGER-Used in default
 processing.

.VARI FDS
 INTEGER-Used in default
 processing.

.VARI FSC
 INTEGER-Used in default
 processing.

.VARI RADII
 REAL-Radii of projected target
 body.

.VARI LORA
 REAL-Longitude of target body.

.VARI CSCALE
 REAL-Number of pixels/mm on
 focal plane.

.VARI FOCL
 REAL-Camera focal length in mm.

.VARI CLINE
 REAL-Line of optic axis 
 picture.

.VARI CSAMP
 REAL-Specifies sample of
 optical axis.

.VARI CAMERA
 INTEGER-Camera number.

.VARI DISTOR
 KEYWORD-Input frame has
 NOT been corrected.
 Same as 'IMAGE

.VARI IMAGE
 KEYWORD-Input frame has NOT
 been corrected.
 Same as 'DISTOR

.VARI OBJECT
 KEYWORD-Input frame has
 been corrected.

.VARI CMATRIX
 REAL-Specifies C-matrix in
 row major order.

.VARI MEMATRIX
 REAL-Specifies ME matrix
 in row major order.

.VARI OMMATRIX
 REAL-Specifies OM matrix
 in row major order.

.VARI VRVECTOR
 REAL-Specifies X, Y, Z
 components of the VR vector.

.VARI RSVECTOR
 REAL-Specifies RS vector.

.VARI SLATITUD
 REAL-Spherical target body
 coordinate.

.VARI SLONGITU
 REAL-Spherical target body
 coordinate.

.VARI RMAGNITU
 REAL-Spherical target body
 coordinate.

.VARI TIME
 INTEGER-Time frame was taken.

.VARI RTAS
 REAL-Right ascension of target
 body's north celestrial pole.

.VARI DECLINAT
 REAL-Declination of target's
 north pole.

.VARI QUAM
 KEYWORD-Specifies use of QUAM
 algorithm.

.VARI CLATITUD
 REAL-Center latitude of input
 image.

.VARI CLONGITU
 REAL-West longitude of above
 point.

.VARI NORANGLE
 REAL-Angle of north in degrees.

.VARI ISSCPT
 REAL-Subspacecraft point in
 image space.

.VARI OSSCPT
 REAL-Subspacecraft point in
 object space.

.VARI TIEPTS
 REAL-Specifies tiepoint mode.

.VARI MERCATOR
 KEYWORD-map projection type

.VARI LAMBERT
 KEYWORD-map projection type

.VARI STEREOGR
 KEYWORD-map projection type

.VARI CYLINDRI
 KEYWORD-map projection type

.VARI RECTANGU
 KEYWORD-map projection type

.VARI ORTHOGRA
 KEYWORD-map projection type

.VARI POLE
 KEYWORD-Forces polar projection.

.VARI OBCYLIND
 KEYWORD-map projection type

.VARI SINUSOID
 KEYWORD-map projection type

.VARI OBSINUSO
 KEYWORD-map projection type

.VARI MOLLWEID
 KEYWORD-map projection type

.VARI TMERCATO
 KEYWORD-map projection type

.VARI PERSPECT
 KEYWORD-map projection type 

.VARI SOUTH
 KEYWORD-Causes negative default
 values.

.VARI SCALE
 REAL-Scale in km/pixel.

.VARI LINE
 REAL-Line in output picture.

.VARI SAMPLE
 REAL-Sample in output picture.

.VARI LATITUDE
 REAL-Specifies latitude.

.VARI LONGITUD
 REAL-Specifies longitude

.VARI PAR1
 REAL-Northernmost lat. of 2
 standard parallels.

.VARI PAR2
 REAL-Southernmost lat. of 2
 standard parallels.

.VARI LIN1
 REAL-Line in output frame.

.VARI LIN2
 REAL-Line in output frame.

.VARI NORTH
 REAL-Angle in degrees north.

.VARI PLATITUD
 REAL-Latitude of a point.

.VARI PLONGITU
 REAL-Longitude of a point.

.VARI PLINE
 REAL-Line near point
 (PLAT,PLON).

.VARI PSAMPLE
 REAL-Sample near point
 (PLAT,PLON).

.VARI RECENTER
 KEYWORD-Specifies recentering
 algorithms.

.VARI HALF
 KEYWORD-Input is 
 16 bits per pixel

.VARI BYTE
 KEYWORD-Input is 
 8 bits per pixel

.VARI TARGET
Optional 12-char string
Target name (planet,
  satellite, or asteroid)
.VARI SPICEMODE
Optional keyword
Location of SPICE kernels
(LOCAL or REMOTE)
.VARI CKNAME
Optional 4-char string
C-kernel name
.VARI CKID
Optional 4-char string
C-kernel ID
.VARI USERID
Optional 3-char string
User who created camera pointing
.VARI GROUPID
Optional 3-char string
Group which created camera pointing
.VARI INSTITUTE
Optional 4-char string
Facility which created camera pointing
.VARI PURPOSE
Optional 4-char string
Purpose for camera pointing
.VARI PROGRAM
Optional 6-char string
Program which created camera pointing
.VARI SPKID
Optional 4-char string
SP kernel for created camera pointing
.VARI REQNUM
Optional 4-char string
IPL request number for created camera pointing
.VARI CDATE
Optional 12-char string
Date and time camera pointing was created
.VARI PRINT
PRINT=(startline,endline)
prints LAT,LON,IN_LINE,IN_SAMP
for the range of output lines.  

.LEVEL2

.VARI INP
 STRING-INP=(IN,GEOM)
 INP is the input dataset to be projected where: IN (REQUIRED)
 is the input dataset filename. GEOM (OPTIONAL) is an IBIS dataset
 which, if supplied, must contain a valid set of GEOMA parameters
 capable of transforming the input frame from image space
 (geometrically distorted) to object space (undistorted). Such a
 dataset can be produced by OLDGEOMA2IBIS, or RESLOCVO(Viking Orbiters 1 and 2)
 or RESLOC or FARENC(Voyager). 

.VARI OUT
 STRING-OUT=OUTIMAGE
 OUT is the output version of IN.  Unless the NOGEOM parameter is specified
 (see NOGEOM Parameters write-up), it must be NL lines by NS samples, where
 NL and NS come from the size field, plus extra lines for labels. 

.VARI SIZE
 INTEGER-SIZE=(1,1,NL,NS) 
 SIZE is a standard VICAR size field with NL as the number of lines and NS
 as the number of samples. 

.VARI NL
 INTEGER-
 NL is the number of lines in the output dataset.

.VARI NS
 INTEGER-
 NS is the number of samples in the output dataset.

.VARI PLANET
 STRING-
 PLANET is the target body name, 12 characters fully spelled out.  This will 
 determine the planet radii and the SPICE.  
 THIS IS A PLANET DESCRIPTIVE PARAMETER.

.VARI NOSEDR
 KEYWORD-(Valid:'NOSEDR)
 'NOSEDR requests for MAP3 to not read the project SEDR for pointing,
 trajectory, etc. data.  The user must input all relevent information. 

.VARI DNTHRESH
Specifies a DN threshold used only in interpolation mode. If, when
interpolating a dn value in the input file, one or more of the four
neighbors is less than or equal to DNTHRESH it will not be used
in the interpolation.
Several combinations of input dn values can occur.
Cases:
If 4 input neighbors are > dnthresh then interpolation is done.
If 3 input neighbors are > dnthresh the fourth is extrapolated and then
   interpolation is done.
If 2 input neighbors are > dnthresh the output pixel is determined from
   a linear weighting of the 2 good pixels.
If 1 input neighbor is > dnthresh it is copied to the output.
If all the input neighbors are <= dnthresh the output is determined from
   the nearest neighbor.

.VARI NOINTERP
 KEYWORD-(Valid:'NOINTERP)
 'NOINTERP will suppress interpolation between input DN values. Use nearest 
 neighbor to determine output DN.

.VARI NOGEOM 
 KEYWORD-(Valid - 'NOGE)
 NOGEOM will suppress the fetch of LGEOM. 

.VARI REFTIME
 INTEGER-REFTIME=(N1,N2,N3,N4,N5,N6)
 REFTIME is the reference time for the output projection. 
 Specifying REFTIME invokes the zonal differential flow correction (see
 the ZVP keyword). REFTIME specifies the time of the output projection
 to which the different input latitudes must be shifted using the
 zonal flow model. To correctly mosaic images of a gas planet, all the
 input images must be projected to the same reference time so that
 the different latitudes match.  Defaults to the same time as the input image
 (no zonal correction).Format is 6 integers, Nn, in the order:
           year day hour minute second millisecond.
 Example:  reftime=(92,88,56,2,33,0) in the same sense as the GLL sclk time
 found in the picture label; ie: year 1992 day 88...

.VARI ZVP
 STRING-
 ZVP is the name of the zonal flow file used by map3. Only used
 if REFTIME is specified and if the default name is inappropriate.

.VARI SHORT
 KEYWORD-(Valid - 'SHORT) 
 Applicable for Viking Orbiter 1 and 2 ONLY, 'SHORT indicates that the
 SEDR input is NOT the master Viking Orbiter SEDR.  Instead it is a dataset
 containing a VICAR label and one other record of 2000 bytes containing
 one SEDR record. Such a dataset can be produced as an alternate output
 from VOLOG, the Orbiter logging program, or directly from a SEDR tape
 using VSAR. When a master SEDR file is in use, the DAS, FDS or FSC time
 is used to access the correct record in the file. If no corresponding
 entry appears in the dataset's directory, MAP3 abends. If SHORT is specified,
 the first non-label record is used and no check on FSC time is made. 

.VARI NOLABEL
 KEYWORD-(Valid - 'NOLABEL)
 'NOLABEL will suppress certain label updating activities of MAP3. This
 parameter does NOT allow MAP3 to run on non-VICAR datasets and does NOT
 suppress the addition of several logical label records which
 mathematically describe the output projection. The logging programs for
 the standard missions usually generate several label records containing
 the latitude and longitude of the four corners and center of the input
 frame. Normally, MAP3 updates these labels using the same camera pointing
 information it uses to project the picture. The updated values may differ
 from their old values, but still refer to the input frame, not the
 output. Mariner 10 labels did not contain these entries, so MAP3
 creates them and fills them in. The primary use of NOLABEL was to
 suppress this activity for Mariner 10 frames in order to improve the
 picture to label size ratio on MASK'ed pictures. 

.VARI HALF
 KEYWORD-(Valid - 'HALF)
 'HALF indicates that the input and output are halfword data.

.VARI BYTE 
 KEYWORD-(Valid - 'BYTE)
 'BYTE indicates that the input and output are byte data.

.VARI GEODET
 KEYWORD-(Valid - 'GEODET)
 'GEODET indicates that CLAT and SLAT, entered by the user via the
 parameter list, are geodetic latitudes. They will be converted to
 geocentric before processing. 

.VARI NAM2
 KEYWORD-(Valid - 'NAM2)
 'NAM2 specifies that the north angle is to be measured as if it were
 the angle from up of the planet spin axis projected on the image,
 i.e., the MAP3 convention. The default is that the north angle is
 measured as if it were the angle from up of the planet spin axis
 projected on the image after the cameras have been slewed to place
 the optical axis coincident with the planet center. This is the SEDR
 convention. 

.VARI MM71
 KEYWORD-(Valid - 'MM71)
 'MM71 forces the program to assume a Mariner 9 input frame, regardless
 of the picture label.  The default is to obtain the project from the input
 image label.  THIS IS A FLIGHT RELATED PARAMETER.

.VARI MVM73
 KEYWORD-(Valid - 'MVM73)
 'MVM73 forces Mariner 10 processing, regardless of the picture label. 
 The default is to obtain the project from the input image label.
 THIS IS A FLIGHT RELATED PARAMETER.

.VARI VI76
 KEYWORD-(Valid - 'VI76)
 'VI76 forces Viking Orbiter 1 and 2 processing, regardless of the
 picture label.  The default is to obtain the project from the input
 image label.  THIS IS A FLIGHT RELATED PARAMETER. 

.VARI VGR1
 KEYWORD-(Valid - 'VGR1)
 'VGR1 forces Voyager-1 processing, regardless of the picture label. 
 The default is to obtain the project from the input image label.
 THIS IS A FLIGHT RELATED PARAMETER. 

.VARI VGR1
 KEYWORD-(Valid - 'VGR2)
 'VGR2 forces Voyager-2 processing, regardless of the picture label. 
 The default is to obtain the project from the input image label.
 THIS IS A FLIGHT RELATED PARAMETER. 

.VARI GLL
 KEYWORD-(Valid - 'GLL)
 'GLL forces Galileo processing, regardless of the picture label. 
 The default is to obtain the project from the input image label.
 THIS IS A FLIGHT RELATED PARAMETER. 

.VARI NOPROJEC
 KEYWORD-(Valid - 'NOPROJEC)
 'NOPROJEC forces non-flight processing.  The default is to obtain the
 project from the input image label.

.VARI DAS
 INTEGER-DAS=N1
 Where N1 is an integer, DAS means the same as the FDS and FSC parameters. 
 They are available for user convenience.  N1 is the DAS(MM71), 
 FDS(MVM73, Voyager), or FSC(Viking Orbiter) time of the input picture. 
 It is necessary if data is to be obtained from a SEDR and is normally 
 obtained from the picture label.  THIS IS A FLIGHT RELATED PARAMETER. 

.VARI FDS
 INTEGER-FDS=N1
 Where N1 is an integer, FDS means the same as the DAS and FSC parameters. 
 They are available for user convenience. N1 is the DAS(MM71), 
 FDS(MVM73, Voyager), or FSC(Viking Orbiter) time of the input picture. 
 It is necessary if data is to be obtained from a SEDR and is normally 
 obtained from the picture label.  THIS IS A FLIGHT RELATED PARAMETER. 

.VARI FSC
 INTEGER-FSC=N1
 Where N1 is an integer, FSC means the same as the FDS and DAS parameters. 
 They are available for user convenience. N1 is the DAS(MM71), 
 FDS(MVM73, Voyager), or FSC(Viking Orbiter) time of the input picture. 
 It is necessary if data is to be obtained from a SEDR and is normally 
 obtained from the picture label.  THIS IS A FLIGHT RELATED PARAMETER. 

.VARI RADII
 REAL-RADII=(RA,RB,RC)
 RADII is the radii of the projected target.  RA, RB, RC are reals and
 each specify the following:
	RA is the long equatorial radius (km).
	RB is the short equatorial radius (km).
	RC is the polar radius (km).
 THIS IS A PLANET DESCRIPTIVE PARAMETER.

.VARI LORA
 REAL-LORA=R1
 Where R1 is a real number, LORA is the longitude of RA (the long equatorial
 radius).  This parameter is only meaningful when RA does NOT equal RB (the
 short equitorial radius) and even then the prime meridian is usually defined
 at RA. The default is LORA=0.0.  THIS IS A PLANET DESCRIPTIVE PARAMETER. 

.VARI CSCALE
 REAL-CSCALE=R1
 Where R1 is a real number, CSCALE is the number of pixels per millimeter on
 the focal plane once geometric distortion is removed.  
 THIS IS A CAMERA DESCRIPTIVE PARAMETER. 

.VARI FOCL
 REAL-FOCL=R2
 Where R2 is a real number, FOCL is the camera focal length in millimeters. 
 THIS IS A CAMERA DESCRIPTIVE PARAMETER. 

.VARI CLINE
 REAL-CLINE=R3
 Where R3 is a real number, CLINE is the line in an object space picture at
 which the optical axis intersects the image plane. Default non-standard
 flight pictures is NLI/2, where NLI is the number of lines in the input
 picture.  THIS IS A CAMERA DESCRIPTIVE PARAMETER. 

.VARI CSAMP
 REAL-CSAMP=R4
 Where R4 is a real number, CSAMP is the sample of the optical axis. Default
 for non-standard flight pictures is NSI/2, where NSI is the number of samples
 in the input frame.  THIS IS A CAMERA DESCRIPTIVE PARAMETER. 

.VARI CAMERA
 INTEGER-CAMERA=N1
 Where N1 is an integer, CAMERA is the number specifying which camera took the
 picture. It is normally obtained from the picture label, and is needed to
 obtain the correct CSCALE, FOCL, CLINE and CSAMP values if they are defaulted.
 N1 has the following meaning according to each flight. 
	Mariner 9 and Mariner 10
		N1 = 1 for A Camera
		N1 = 2 for B Camera
	Viking Orbiter
		N1 = 1 for Viking Orbiter 1, A Camera, S/N=7
		N1 = 2 for Viking Orbiter 1, B Camera, S/N=4
		N1 = 3 for Viking Orbiter 2, A Camera, S/N=8
		N1 = 4 for Viking Orbiter 2, B Camera, S/N=6
		N1 = 5 for Ground Test Camera, S/N=5
	Voyager
		N1 = 1 for Voyager 1, Narrow Angle, S/N=7
		N1 = 2 for Voyager 1, Wide Angle, S/N=6
		N1 = 3 for Voyager 2, Narrow Angle, S/N=5
		N1 = 4 for Voyager 2, Wide Angle, S/N=4
 THIS IS A CAMERA DESCRIPTIVE PARAMETER.

.VARI DISTOR
 KEYWORD-Valid:('DISTOR, 'IMAGE)
 DISTOR tells MAP3 the input frame has NOT been corrected for vidicon
 scene-dependent geometric distortion and causes a distortion correction
 to be included as well as a map projection. Thus there is no need to GEOM
 a frame twice to get a corrected map projection. DISTOR is superfluous if
 a GEOM dataset is supplied, since its presence automatically induces the
 correction.  For MM71, MVM73, and Viking Orbiter, default "nominal" GEOMA
 parameters are built into the program for each camera. If DISTOR is
 specified and a GEOM dataset is not provided, the nominals for the
 given camera are used. If neither DISTOR nor GEOM are given, the
 input image label is read to determine if geometric correction has
 been performed. THIS IS A CAMERA DESCRIPTIVE PARAMETER. 

.VARI IMAGE
 KEYWORD-Valid:('DISTOR,'IMAGE)
 See DISTOR.  IMAGE and DISTOR are synonyms.

.VARI OBJECT
 KEYWORD-Valid:('OBJECT)
 'OBJECT tells MAP3 that the input image is geometrically correct. OBJECT
 overrides the information obtained from the input image label as to the
 geometric state of the input image. OBJECT is the antonym of IMAGE
 and DISTOR.

.VARI CMATRIX
 REAL-CMATRIX=(R1,R2,...,R9)
 Rn is a real number and specifies the C-matrix in row major order
 (C11, C12, C13, etc.). This matrix transforms camera coordinates to
 reference frame coordinates. The reference frame is the Earth Mean
 Equator 1950.0 System. (See Reference (3) for details.)
 THIS IS A VIEWING PARAMETER used in method 1. 

.VARI MEMATRIX
 REAL-MEMATRIX=(R10,R11,...,R18)
 Rn is a real number and specifies the ME matrix in row major order
 (C11,C12,C13,etc.). This matrix tranforms planet coordinates to
 reference frame coordinates. The reference frame is the Earth Mean
 Equator 1950.0 System. (See Reference (3) for details.)
 THIS IS A VIEWING PARAMETER used in method 1. 

.VARI OMMATRIX
 REAL-OMMATRIX=(R19,R20,...,R27)
 Rn is a real number and specifies the OM matrix in row major order
 (C11, C12, C13, etc.). This matrix transforms planet coordinates to
 camera coordinates. The reference frame is the	Earth Mean Equator
 1950.0 System. (See Reference (3) for details.)
 THIS IS A VIEWING PARAMETER. 

.VARI VRVECTOR
 REAL-VRVECTOR=(R28,R29,R30)
 Rn is a real number and specifies, in order, the X, Y, and Z components
 of the VR vector. This is the vector from the target body center to the
 spacecraft in reference frame coordinates. THIS IS A VIEWING PARAMETER.

.VARI RSVECTOR 
 REAL-RSVECTOR=(R31,R32,R33)
 Rn is a real number and specifies the RS vector. This is the vector from
 the target body center to the spacecraft in planet XYZ coordinates.
 THIS IS A VIEWING PARAMETER.
 
.VARI SLATITUD
 REAL-SLAT=R34
 Where R34 is a real number, SLAT along with SLON and RMAG are the spherical
 target body coordinates of the RS vector. They are used to compute the RS
 vector if QUAM, FARENC or TIEPTS is specified. Default for standard flights
 is to obtain all three from the SEDR.  SLAT is the subspacecraft latitude and
 SLON the subspacecraft longitude (west) in degrees. RMAG is the planet center
 to spacecraft range in kilometers. 
 THIS IS A VIEWING PARAMETER used in method 1. 

.VARI SLONGITU
 REAL-SLON=R35
 Where R35 is a real number, SLON along with SLAT and RMAG are the spherical
 target body coordinates of the RS vector. They are used to compute the RS
 vector if QUAM, FARENC or TIEPTS is specified. Default for standard flights
 is to obtain all three from the SEDR.  SLAT is the subspacecraft latitude and
 SLON the subspacecraft longitude (west) in degrees. RMAG is the planet center
 to spacecraft range in kilometers. 
 THIS IS A VIEWING PARAMETER used in method 1. 

.VARI RMAGNITU
 REAL-RMAG=R36
 Where R36 is a real number, RMAG along with SLAT and SLON are the spherical
 target body coordinates of the RS vector. They are used to compute the RS
 vector if QUAM, FARENC or TIEPTS is specified. Default for standard flights
 is to obtain all three from the SEDR.  SLAT is the subspacecraft latitude and
 SLON the subspacecraft longitude (west) in degrees. RMAG is the planet center
 to spacecraft range in kilometers.
 THIS IS A VIEWING PARAMETER used in method 1. 

.VARI TIME
 INTEGER-TIME=(N1,N2,N3,N4,N5,N6)
 Where Nn is an integer, TIME is the time (GMT) at which the frame was taken.
 The Nn's specify, in order, the year, day, hour, minute, second, and
 millisecond of the middle (ideally) of the exposure. Default is to obtain
 this data from the SEDR if available.  (The ME matrix is time dependent.)
 THIS IS A VIEWING PARAMETER. 

.VARI RTAS
 REAL-RTAS=R1
 Where R1 is a real number, RTAS is the right ascension (in degrees) of the
 target body's north celestial pole. Values for the inner five planets and
 the moon are built into the program. See Reference (1) for an illustration of 
 the meaning of right ascension and declination. THIS IS A VIEWING PARAMETER. 

.VARI DECLINAT
 REAL-DECLINAT=R2
 Where R2 is a real number, DECLINAT is the declination in degrees of the 
 target's north pole.  Values for the inner five planets and the moon are
 built into the program.  THIS IS A VIEWING PARAMETER. 

.VARI QUAM
 KEYWORD-Valid:('QUAM)
 'QUAM indicates the QUAM algorithm is to be used to obtain OM.	
 THIS IS A VIEWING PARAMETER.

.VARI CLATITUD
 REAL-CLAT=R4
 Where R4 is a real number, CLAT is the latitude, in degrees, of the point at
 the center of the input image -- more precisely , at the intersection of the
 optical axis and the planet's surface. Default is to obtain CLAT from the
 SEDR.  THIS IS A VIEWING PARAMETER . Used in QUAM algorithm.

.VARI CLONGITU
 REAL-CLON=R5
 Where R5 is a real number, CLON is the west longitude, in degrees, of the
 above point.  Default is to get CLON from the SEDR. 
 THIS IS A VIEWING PARAMETER.  Used in QUAM algorithm.

.VARI NORANGLE
 REAL-NORA=R6
 Where R6 is a real number, NORA is the angle of north in degrees. It is used
 as a VIEWING PARAMETER in the QUAM algorithm and also in the FAR ENCOUNTER
 algorithm. In the QUAM algorithm, NORA is measured in the image plane, at
 the optical axis, clockwise from up. Default is to obtain NORA from the SEDR.
 The NORA in the SEDR differs slightly from the NORA actually desired. The
 error is a complicated function of the camera pointing and spacecraft
 position, but is not significant except for very oblique viewing angles or
 when quantitative accuracy for mosaicking is desired.  NORA, as used in the
 FAR ENCOUNTER algorithm, is measured in the image plane at the subspacecraft
 point clockwise from up. Note the important difference in the definition of
 NORA in the QUAM and FAR ENCOUNTER algorithms. The default for NORA is the
 same as for the QUAM algorithm, with similar errors involved. In a far
 encounter frame, NORA can and should be measured directly from the image. 

.VARI ISSCPT
 REAL-ISSCPT=(R1,R2)
 Where Rn is a real number, R1 specifies the line and R2 the sample of the
 subspacecraft point in image space (the picture before it is corrected for
 camera distortion).  There are no defaults.  THIS IS A VIEWING PARAMETER. 

.VARI OSSCPT
 REAL-OSSCPT=(R3,R4)
 Where Rn is a real number, R3 specifies the line and R4 the sample of the
 subspacecraft point in object space (picture after it's been corrected for
 camera distortion).  There are no defaults.  THIS IS A VIEWING PARAMETER. 

.VARI TIEPTS
 REAL-TIEPTS=(R11,R21,R31,R41,R12,R22,R32,R42,...R1N,R2N,R3N,R4N)
 Where RnN is a real number, TIEPTS instructs MAP3 to use the tiepoints
 mode and that a tiepoints list follows.  This MUST be the LAST
 keyword specified.  R1N is the line coordinate in the input picture
 of the Nth tiepoint.  R2N is the sample of the Nth tiepoint.  R3N is
 the latitude of the Nth tiepoint in degrees.  R4N is the west
 longitude of the Nth tiepoint in degrees.  3<=N<=20 is expected.  If
 N<3 the program ABENDS. If N>20 only the first twenty points are
 used and a warning is printed.
 THIS IS A VIEWING PARAMETER used in method 5. 

.VARI MERCATOR
 KEYWORD-Valid:('MERCATOR)
 'MERCATOR forces MAP3 to generate a Mercator projection.  This
 projection maps the sphere, except for the two poles, onto a strip
 on the plane.  The width of the strip is equal to the scaled
 circumference of the planet at the equator.  It extends infinitely
 in both vertical directions.  Longitudinal lines project to the
 infinitely long, vertical straight lines which are equally spaced.
 Latitudinal circles become horizontal line segments whose spacing
 increases without limit as you approach the pole.  The Mercator is a
 conformal projection (scale errors at any point are equal in all
 directions, so shapes of small areas are preserved).
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI LAMBERT
 KEYWORD-Valid:('LAMBERT)
 'LAMBERT specifies a Two-Standard Lambert Conformal Conic
 projection.  In this projection, two latitudinal parallels on the same
 side of the equator are chosen as "standard".  There will be no
 scale error anywhere on these parallels.  In addition, a longitudinal 
 line is chosen as "central".  The projection is developed on a
 cone which intersects the planet at the standard parallels.  This
 cone is cut along the meridian 180 degrees away from the central
 meridian.  The result is that the sphere is mapped onto the region
 between two semi-infinite rays emanating from the projection of the
 pole in the same hemisphere as the standard parallels.  The opposite
 pole is the only point on the sphere which is not mapped.  Longitudinal
 meridians become semi-infinite rays emanating from the visible
 pole, but not at their true angle since all longitudes are confined
 to lie between the two outermost rays, each of which represent the
 meridian along which the cone was cut.  The central meridian is the
 only vertical line among the longitudinal meridians.  Latitudinal circles
 become circular arcs centered on the projected pole and confined
 between the outer longitudinal meridians.  The longitudinal rays are
 equally spaced.  The latitudinal circles are too widely spaced outside 
 the standards and too closely spaced between them.  The spacing of
 the latitudinal circles increases without limit as you approach the
 opposite pole.  As its name implies, this projection is conformal.
 Neither the Mercator nor the Lambert is a true perspective
 projection.  You cannot produce them with a model containing a
 globe, some paper, and a point source of light. 
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI STEREOGR
 KEYWORD-(Valid-'STEREOGR)
 'STEREOGR requests a Stereographic projection.  If POLE (see POLE
 parameter) is not specified and if LATITUDE (see LATITUDE
 parameter) does not specify + or - 90 degrees, an Oblique
 Stereographic projection results.  The stereographic is a true
 perspective projection.  A plane is placed tangent to the sphere at
 the center of projection.  Perspective lines emanate from the point
 on the sphere diametrically opposite from the center of projection.
 Thus the entire sphere, except for one point, is mapped to the entire
 plane.  Longitudinal lines and latitudinal circles project to ellipses
 whose spacing and orientation vary in a complicated way.  The
 projection is conformal.  Features are expanded more and more
 without limit as you move away from the center of projection.
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI CYLINDRI
 KEYWORD-(Valid-'CYLINDRI)
 'CYLINDRI requests the cylindrical (normal) projection.  This
 projection maps the sphere onto a strip on the plane.  The width of
 the strip is equal to the scaled circumference of the planet at the
 equator.  Longitudinal lines project to vertical lines which are
 equally spaced and extend from one pole to the other.  Latitudinal
 circles become horizontal lines whose spacing varies as the cosine
 of the latitude.  The cylindrical projection is an equal area
 projection. 
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER used in method 1. 

.VARI RECTANGU
 KEYWORD-(Valid-'RECTANGU)
 'RECTANGU requests the Simple Cylindrical (Rectangular) projection.
 This projection is similar to the Normal Cylindrical except that
 the spacing of the latitudinal circles (horizontal lines) is constant
 with and is equal to the spacing of the longitudinal lines.
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI ORTHOGRA
 KEYWORD-(Valid-'ORTHOGRA)
 'ORTHOGRA requests an Orthographic projection.  This is a true 
 perspective projection with perspective point at infinity.  The 
 projection plane is tangent to the planet at the center of
 projection.  Perspective lines are parallel to each other,
 perpendicular to the projection plane.  Thus one hemisphere centered
 at the center of projection is mapped to a circle on the plane of
 radius Req.  Longitudinal meridians and latitudinal circles map to
 ellipses.  Features are compressed relative to their true scale as
 you move away from the center of projection.  No point more than 90
 degrees away from the center can be projected.  This projection is
 frequently used by space projects because it makes the input frame
 appear much as it would from the spacecraft if it were directly
 above the center of projection (except for the stairsteps on the
 limb.-ed.)
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER used in method 1. 

.VARI POLE
 KEYWORD-Valid:('POLE)
 'POLE is only meaningful for Orthographic and Stereographic projections.
 It causes the center of projection to be the pole nearest the center of
 the input frame.  Polar projections are treated separately by MAP3 because
 many of the equations normally used have singularities when the center of
 projection is a pole.  In both polar projections (Orthographic and
 Stereographic) longitudinal meridians are straight lines intersectiong
 at the pole at their correct angles.  Latitudinal circles project to
 complete circles centered on the pole.  The difference between the
 two lie in the spacing of the latitudinal circles and the fact that
 the orthographic only fills a circular region on the plane of
 projection, not the entire plane.
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI OBCYLIND
 KEYWORD-Valid:('OBCYLIND)
 'OBCYIND requests the Oblique simple cylindrical projection (oblique
 rectangular).  Same as the rectangular projection but the planet can be
 rotated before performing the projection.  Neither conformal nor equal area.

.VARI SINUSOID
 KEYWORD-Valid:('SINUSOID)
 'SINUSOID requests the Sinusoidal projection.  Equal area.  Latitudes are
 horizontal parallel lines.  Longitudes converge on the poles.  Scale is
 true along straight central meridian and all latitudes.

.VARI OBSINUSO
 KEYWORD-Valid:('OBSINUSO)
 'OBSINUSO requests Oblique sinusoidal projection. Same as sinusoidal except
 the sphere can be rotated before the projection is performed.

.VARI MOLLWEID
 KEYWORD-Valid:('MOLLWEID)
 'MOLLWEID requests the mollweid projection. Equal area. Latitudes are
 straight parallel lines. Longitudes converge on the poles. Scale is true
 at latitudes +/- 40 deg 44 min.

.VARI TMERCATO
 KEYWORD-Valid:('TMERCATO)
 'TMERCATO requests the Transverse mercator projection. Same as Mercator
 except the central meridian is substituted for the equator, permitting both
 poles to be seen. Central meridian, other meridians 90 degrees distant,
 and the equator are straight lines.

.VARI PERSPECT
 KEYWORD-Valid:('PERSPECT)
 'PERSPECT requests the Perspective projection, as seen from a framing camera
 not at infinity.  This is the same as the VICAR "Object Space" with this
 difference:  the Perspective projection has in its label all the data 
 required to define the projection, whereas the Image/Object-space images
 require access to the SEDR/SPICE to get this information.

.VARI SOUTH
 KEYWORD-Valid:('SOUTH) 
 'SOUTH is meaningful only for the Lambert projection when the latitudes of
 the standard parallels are defaulted. It causes the defaults to have negative
 values regardless of the latitude of the center of the input frame. This
 is a rarely used parameter. THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI SCALE
 REAL-SCALE=R1 
 Where R1 is a real number, SCALE is the scale, in km/pixel, at the
 undistorted part of the projection.
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI LINE
 REAL-LINE=R1 
 Where R1 is a real number, LINE is used as a PROJECTION DESCRIPTIVE
 PARAMETER.  Each is explained as follows:
                                  METHOD  

.VARI SAMPLE
 REAL-SAMPLE=R2
 Where R2 is a real number, SAMPLE is used as a PROJECTION DESCRIPTIVE 
 PARAMETER. Each is explained as follows:
                                 METHOD 

.VARI LATITUDE
 REAL-LATITUDE=R3
 Where R3 is a real number, LATITUDE is used as a PROJECTION DESCRIPTIVE
 PARAMETER .Each is explained as follows: 
                                 METHOD

.VARI LONGITUD
 REAL-LONGITUD=R4 
 Where R4 is a real number, LONGITUD is used as a PROJECTION DESCRIPTIVE
 PARAMETER. Each is explained as follows: 
                                 METHOD

.VARI PAR1
 REAL-PAR1=R1
 Where R1 is a real number, PAR1 is the latitude in degrees of the 
 northernmost of the two standard parallels. Default is 59.17 for northern
 hemisphere input frames and -35.83 for southern. 
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI PAR2
 REAL-PAR2=R2 
 Where R2 is a real number, PAR2 is the southernmost of the two standard
 parallels. Default is 35.83 or -59.17. PAR1 and PAR2 must have the same sign
 or the projection is undefined.  THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI LIN1
 REAL-LIN1=R3 
 Where R3 is a real number, LIN1 is the line in the output frame  at which
 the northern standard parallel's projected arc is to intersect the central
 meridian.  THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI LIN2
 REAL-LIN2=R4
 Where R4 is a real number, LIN2 is the same as LIN1 but refers to the
 southern standard parallel.  THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI NORTH
 REAL-NORTH=R5
 Where R5 is a real number, NORTH is the angle in degrees of north in the
 output picture.  This angle is measured in  the projection plane at the
 center of projection clockwise from up.  NORTH need not be related to NORA,
 discussed in the Viewing Geometry section.  The default is to compute NORTH
 so that the center of projection and another point which lies on the same
 line in the input picture as the C.P. fall on the same line in the output
 picture. As long as the C.P. lies somewhere in the input frame this
 technique minimizes relative rotation from input to output.  If, due
 to the C.P. lying near the limb, the program is unable to perform
 the above calculation, the value of NORA obtained from the SEDR or
 parameter list is used.  If the C.P. lies near a limb and no SEDR is
 available, it is risky to default NORTH.  R5 in method 6 (Polar
 Stereographic and Orthographic) is meaningless  and is ignored in
 polar projections.  THIS IS A PROJECTION DESCRIPTIVE PARAMETER (Oblique
 Stereographic and Orthographic).

.VARI PLATITUD
 REAL-PLAT=R1 
 Where R1 is a real number, PLAT is the latitude of an arbitrary point. 
 Default is the latitude of the center of the input picture. 
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI PLONGITU
 REAL-PLON=R1 
 Where R1 is a real number, PLON is the longitude of an arbitrary point. 
 Default is the longitude of the center of the input frame.  
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER used in method 7. 

.VARI PLINE
 REAL-PLINE=R1 
 Where R1 is a real number, PLINE is a line near which the point at (PLAT,PLON)
 will project.  Default is NL/2.  THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI PSAMPLE
 REAL-PSAMPLE=R1 
 Where R1 is a real number, PSAMPLE is a sample near which the point at  
 (PLAT,PLON) will project. Default is NS/2.  
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI RECENTER
 KEYWORD-Valid:('RECENTER) 
 'RECENTER turns on the recentering algorithms. It need be specified only if
 you want defaults for all of PLAT, PLON, PLINE, and PSAMPLE. Using this
 keyword alone forces the input picture to fall in the center of the output
 picture even if the LATITUDE and LONGITUDE parameters specify a point (or
 meridian) far outside the input frame.  
 THIS IS A PROJECTION DESCRIPTIVE PARAMETER. 

.VARI TARGET
Ex: TARGET=GANYMEDE specifies that GANYMEDE is the target in the input image.

The TARGET may be a planet, satellite, or asteroid.  If defaulted, the target
name is extracted from the VICAR label or determined by other TBD means.

A complete list of valid target names is located in the ASCII file assigned
the logical name (or environmental variable) BODY_IDS.

.VARI SPICEMODE
SPICEMODE=LOCAL specifies that SPICE data is to be retrieved from local
SPICE kernels.  SPICEMODE=REMOTE specifies that SPICE data is to be retrieved
via the SPICE server.  If SPICEMODE is defaulted, the logical name (or
environmental variable) DEFAULTSPICE is used to determine whether LOCAL or
REMOTE is used.  Note that if SPICE data is not found in LOCAL or REMOTE mode,
the other mode is attempted.

.VARI CKNAME
CKNAME is a four character string specifying the C-kernel to be used:

  CKNAME	C KERNEL
  --------      -------------
  DAVI		MIPS_DAVI.CK
  NAV		MIPS_NAV.CK
  FARE		MIPS_FARENC.CK
  NAV2		MIPS_NAV2.CK
  NEAR		MIPS_NEAR.CK
  AMOS		MIPS_AMOS.CK
  NAIF		the best NAIF kernel is used

If defaulted, the kernels are searched in the above order.

.VARI CKID
CKID is an alternative way to specify the prefered C-kernel (see CKNAME
parameter):

  CKID	  CKNAME	C KERNEL
  ----	  --------      -------------
  M906	  DAVI		MIPS_DAVI.CK
  M905	  NAV		MIPS_NAV.CK
  M904	  FARE		MIPS_FARENC.CK
  M903	  NAV2		MIPS_NAV2.CK
  M902	  NEAR		MIPS_NEAR.CK
  M901	  AMOS		MIPS_AMOS.CK
  varies  NAIF		there are a large number of these files

Ex:  CKID=M901 specifies the four character ID which uniquely identifies the
     C-kernel MIPS_AMOS.CK.

A complete list of the C-kernel IDs is located in the ASCII file assigned the
logical name (or environmental variable) KERNELDB.

If specified, CKID overrides the CKNAME parameter.

.VARI USERID
USERID is a three character string which identifies the user who created the
camera pointing.

Ex:  USERID=HBM identifies Helen Mortensen as the creator of the camera
     pointing.

.VARI GROUPID
GROUPID is a three character string which identifies the group which created the
camera pointing.

Ex:  GROUPID=040 identifies group 040 as the creator of the camera pointing.

.VARI INSTITUTE
INSTITUTE is a four character string identifying the facility which created
the camera pointing.

Ex:  INSTITUTE=MIPS specifies that MIPS created the camera pointing.

.VARI PURPOSE
PURPOSE is a four character string identifying the purpose of the observation
or the purpose of processing.  For example,
  PURPOSE=MOSA identifies the image as part of a mosaic sequence
  PURPOSE=COLO identifies the image as part of a color sequence

.VARI PROGRAM
PROGRAM is the first six characters of the program creating the camera pointing.

Ex:  PROGRAM=FARENC specifies that FARENC created the camera pointing.

.VARI SPKID
SPKID specifies the four character ID which uniquely identifies the
SP kernel used to create the camera pointing.  The SP-kernel IDs are located
in the ASCII file assigned the logical name (or environmental variable)
KERNELDB.

Ex:  SPKID=N015 specifies the SP kernel GLL_LONG_2.BSP

.VARI REQNUM
REQUNUM is a four character string identifying the IPL request number for
which the camera pointing was created.

Ex:  REQNUM=3456 identifies (somewhat) request number R123456

.VARI CDATE
Date and time the camera pointing was created in the form 'YEARMMDDHHMM'.

Ex:  CDATE=199602291200 specifies that the pointing was created at noon
     on February 29, 1996.

.VARI PRINT
The PRINT parameter prints computational information for the specified range
of output lines.  (By default this info is not printed.)  This is intended as 
an aid in interpreting the output image and as a means of checking Map3
operations.  (This data does not go into the session log.)

The first set of information printed is the GRID POINT INFO.  For a grid of
points in the output image, Map3 computes latitude, longitude, and the
corresponding line and sample coordinates in the input image.

The second set of information printed is the INFO FOR SOME OUTPUT POINTS.
This set usually contains fewer lines than the GRID POINT INFO. The two sets
are interleaved as Map3 works down through the output image.  Each set of
INFO FOR SOME OUTPUT POINTS is preceded by a header and can be distinguished
from the GRID POINT INFO by the presence of the output DN value.  (The
subsequent GRID POINT INFO follows the Output Point info without a separating
line or header.)  If the header "INFO FOR SOME OUTPUT POINTS" does not appear,
these lines in the output image are either zeros or not much greater than
the DNTHRESH value.  
There are two forms used for output point info.  If there is an asterisk
after the latitude and longitude, these values are approximate, being taken
from one of the adjacent grid points.  A better value can be obtained 
by interpolating between the adjacent four grid points, remembering that
these functions are often non-linear.  If there is no asterisk after
latitude and longitude, these values are precise.
.END
