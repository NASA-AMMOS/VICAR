procedure
refgbl $echo
refgbl $becho
body
let _onfail="continue"
let $echo="yes"
let $becho="trace"

enable-log

!
gausnois out=a.img nl=101 ns=101
boxflt2 inp=a.img out=left.img nlw=3 nsw=3
geoma inp=left.img out=right.img nah=1 nav=1 tiepoint= +
  ( 13. 19. 13. 13.      19. 73. 13. 73. +
    67. 13. 73. 13.      73. 67. 73. 73. )
tracker3 inp=(left.img,right.img) out=pts.img grid=30 nlw=11 nsw=11 +
  nlarea=25 nsarea=25 'print asciifile=asciipts
tracker3 inp=(right.img,left.img,pts.img) out=pts2.img nlw=11 nsw=11 +
  nlarea=25 nsarea=25 'extend 'print
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  'print 'zero percent=75. quality=.8 
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  nlw=11 nsw=11 nlarea=25 nsarea=25 +
  'print correl=ANNEAL coefrang=(.81,1.21,-.35,.351) limit=3000
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  nlw=11 nsw=11 nlarea=25 nsarea=25 +
  'print correl=LINEAR
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  nlw=11 nsw=11 nlarea=25 nsarea=25 +
  'print correl=AMOEBA
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  nlw=11 nsw=11 nlarea=25 nsarea=25 +
  'print correl=ANNAMO
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  nlw=11 nsw=11 nlarea=25 nsarea=25 +
  'print correl=LINAMO 
tracker3 inp=(left.img,right.img) out=pts.img grid=30 +
  nlw=11 nsw=11 nlarea=25 nsarea=25 +
  'print correl=KQKKOR 

disable-log

end-proc
