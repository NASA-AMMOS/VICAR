process help=*
PARM INP   TYPE=STRING
PARM OUT   TYPE=STRING
PARM SIZE  TYPE=INTEGER COUNT=4                DEFAULT=(1,1,0,0)
PARM SL    TYPE=INTEGER                        DEFAULT=1
PARM SS    TYPE=INTEGER                        DEFAULT=1
PARM NL    TYPE=INTEGER                        DEFAULT=0
PARM NS    TYPE=INTEGER                        DEFAULT=0
PARM LINE  TYPE=INTEGER COUNT=1:100            DEFAULT=0
PARM DN    TYPE=INTEGER                        DEFAULT=0
PARM NOAVG   KEYWORD COUNT=0:1 VALID=NOAVG DEFAULT=--
PARM TRUNC TYPE=KEYWORD VALID=TRUNC COUNT=0:1 DEFAULT=--
PARM NOFIX KEYWORD VALID=NOFIX COUNT=0:1 DEFAULT=--
PARM NOPRINT KEYWORD VALID=NOPRINT COUNT=0:1 DEFAULT=--
END-PROC

.TITLE
 "insert"
.HELP

 PURPOSE:
 INSERT IS AN APPLICATIONS PROGRAM THAT WILL INSERT
 ARTIFICIAL LINES IN A PICTURE AND RESCALE THE
 REMAINING LINES DOWN THE APPROPRIATE AMOUNT. INSERT
 IS USEFUL FOR CORRECTING MISREGISTRATION DUE TO
 LINE DROPOUT.

 EXECUTION:
 THE FOLLOWING IS THE EXECUTION STATEMENT FOR INSERT:
        insert  INP  OUT  PARAMS
.PAGE
 EXAMPLES:
 insert INP=A OUT=B SIZE=(1,1,100,200) LINE=(1,10)

 LINES 1 AND 10 OF THE OUTPUT DATA SET B ARE ARTIFICIALLY
 GENERATED BY AVERAGING PIXELS IN ADJOINING LINES.  LINES
 2 THROUGH 9 ARE LINES 1 THROUGH 8 OF THE INPUT DATA SET.
 LINES 11 THROUGH 102 ARE LINES 9 THROUGH 100 OF THE INPUT
 DATA SET.

 insert INP=A OUT=B SIZE=(1,1,100,200) DN=128 LINE=5 TRUNC=TRUNC

 LINE 5 OF THE OUTPUT DATA SET, B, WILL BE ARTIFICIAL WITH DN
 OF 128.  LINES 1 THROUGH 4 ARE LINES 1 THROUGH 4 OF THE
 INPUT DATA SET, A.  LINES 6 THROUGH 100 ARE LINES 5 THROUGH 99 OF
 THE INPUT DATA SET, A.
.PAGE
 RESTRICTIONS:

 MAX. NUMBER OF LINES THAT CAN BE INSERTED = 100.

 IF NO LINES ARE SPECIFIED FOR INSERTION THE INPUT
 DATA SET IS COPIED TO THE OUTPUT DATASET.  IF AN
 UNEXPECTED EOF OCCURS, ARTIFICIAL LINES ARE
 ADDED TO MAKE UP THE DIFFERENCE.

 TIMING: NONE AVAILABLE FOR THE VAX
.PAGE
 ORIGINAL PROGRAMMER:  J. D. ADDINGTON,  19 JUNE 1974
 CONVERTED TO VAX:     J. A. MOSHER,  15 MARCH 1983
 CONVERTED TO VICAR2:  S. POHORSKY,  19 NOV. 1984
 REVISION 1:           L. W. KAMP,  20 JAN. 1985
 Made portable for UNIX Alan Scop (CRI),  2 MAY 1994    
CURRENT COGNIZANT PROGRAMMER:  L. W. KAMP
.LEVEL1
.VARIABLE INP
 INPUT DATASET
.VARIABLE OUT
 OUTPUT DATASET
.VARIABLE SIZE
 IMAGE SIZE
.VARI SS
 INTEGER - STARTING SAMPLE
.VARI SL
 INTEGER - STARTING LINE
.VARI NL
 INTEGER - NUMBER OF LINES
.VARI NS
 INTEGER - NUMBER OF SAMPLES
.VARIABLE LINE
 1-100 ARTIFICIAL-LINE NUMBERS
.VARIABLE DN
 DN OF INSERTED LINE PIXELS
.VARIABLE NOAVG
 SUPPRESS AVERAGING OF INSERTED PIXELS?
.VARIABLE TRUNC
 OUTPUT LINES TO BE TRUNCATED?
.VARI NOFIX
 SUPPRESS FIXING OF BAD LINES?
.VARI NOPRINT
 SUPPRESS MESSAGES?
.LEVEL2
.VARI INP
 STANDARD VICAR1 INPUT DATASET PARAMETER
 (ONE DATASET)
.VARI OUT
 STANDARD VICAR1 OUTPUT DATASET PARAMETER
 (ONE DATASET)
.VARI SIZE
 STANDARD VICAR1 SIZE PARAMETER.
.VARIABLE LINE
 NEW LINES WILL BE INSERTED AT THE LINE(S) SPECIFIED.
 LINE NUMBERS ARE WITH RESPECT TO OUTPUT PICTURE.
.VARIABLE DN
 DENOTES THE INSERTED LINE PIXELS HAVE A DN OF VALUE N.
.VARIABLE NOAVG
 VALID KEYWORD VALUE: NOAVG.

 'NOAVG' DENOTES THAT INSERTED LINES WILL HAVE ALL DN'S EQUAL
 TO ZERO (OR TO 'DN', IF THAT PARAMETER IS SPECIFIED).
 DEFAULT IS THAT INSERTED LINE PIXELS ARE GENERATED BY
 AVERAGING THE PIXELS IN NEIGHBORING LINES.

 IF PARAMETER 'DN' IS SPECIFIED, THEN NO AVERAGING WILL BE
 PERFORMED.
.VARIABLE TRUNC
 VALID KEYWORD VALUE: TRUNC.
 THIS DENOTES THE OUTPUT PICTURE WILL BE TRUNCATED TO
 THE NUMBER OF LINES SPECIFIED IN THE SIZE PARAMETER, OR,
 IF NO 'SIZE' SPECIFIED, IN THE INPUT IMAGE.
.VARI NOFIX
 VALID KEYWORD VALUE: NOFIX.

 THIS DENOTES THAT BAD LINES WILL BE WRITTEN AS READ.  DEFAULT IS 
 TO REPLACE A BAD LINE WITH A NEW LINE CONSISTING OF ZEROES OR AN
 AVERAGE OF THE ADJACENT LINES (DEPENDING ON WHETHER 'NOAVG' WAS
 SPECIFIED).

 A BAD LINE MEANS A LINE THAT GENERATED ANY I/O ERROR OTHER THAN
 'END OF FILE' WHEN READ.
.VARI NOPRINT
 VALID KEYWORD VALUE: NOPRINT.

 THIS CAUSES MESSAGES TO BE SUPPRESSED.  IF THIS KEYWORD IS NOT
 SPECIFIED, A MESSAGE WILL BE PRINTED FOR EVERY LINE INSERTED.
.END
