procedure
refgbl $echo
refgbl $autousage
refgbl $syschar
local PATH string
body
let $autousage="none"
let _onfail="continue"
let $echo="yes"

enable-log

let PATH="data/"
WRITE "THIS IS A TEST OF MODULE   RESSAR77"
WRITE "FIRST, REMOVE RESEAU MARKS AND FIDUCIAL MARKS"
ush cp &"PATH"cresj.fil.vic cresj.fil.vic
RESLOC (&"PATH"f2048013.byt,cresj.fil.vic) RESEAU.LOC
RESSAR77 (&"PATH"f2048013.byt,RESEAU.LOC) RES.OUT1
WRITE "PRINT AREA OF ONE MARK BEFORE RESSAR77"
LIST &"PATH"f2048013.byt (40,270,15,15) 'nousrtim
WRITE "PRINT AREA AFTER RESSAR77"
LIST RES.OUT1 (40,270,15,15) 'nousrtim
WRITE "FOR ALL YOU NON-BELIEVERS, WE WILL PRINT ANOTHER MARK"
LIST &"PATH"f2048013.byt (42,111,15,15) 'nousrtim
WRITE "NOW, AFTER"
LIST RES.OUT1 (42,111,15,15) 'nousrtim
WRITE "NOW, A FIDUCIAL MARK BEFORE  (LINE INCREMENT = 5)"
LIST &"PATH"f2048013.byt (725,5,65,12) LINC=5 'nousrtim
WRITE "NOW, AFTER"
LIST RES.OUT1 (725,5,65,12) LINC=5 'nousrtim
WRITE "SECOND, REMOVE RESEAU MARKS, FIDUCIAL MARKS AND BLEMISHES"
RESSAR77 (&"PATH"f2048013.byt,RESEAU.LOC,&"PATH"vgr2na.blm) RES.OUT2 RADI=3.
WRITE "PRINT AREA INCLUDING ONE RESEAU MARK AND ONE BLEMISH."
WRITE "BEFORE : THE BLEMISH IS AT L=34.5 S=278.5"
LIST &"PATH"f2048013.byt (30,270,20,15) 'nousrtim
WRITE "AFTER :"
LIST RES.OUT2 (30,270,20,15) 'nousrtim
WRITE "THIRD, REMOVE RESEAU MARKS AND ONE EXTRA SPOT."
RESSAR77 (&"PATH"f2048013.byt,RESEAU.LOC) RES.OUT3 'KEEPFIDU CENTER=(34.5,278.5,3.)
WRITE "NOW, PRINT AREA INCLUDING ONE RESEAU MARK AND THE SPOT."
WRITE "BEFORE :"
LIST &"PATH"f2048013.byt (30,270,20,15) 'nousrtim
WRITE "AFTER :"
LIST RES.OUT3 (30,270,20,15) 'nousrtim
WRITE "---------------------------------------------------- "
WRITE "REPEAT LAST TWO TESTS WITH KEEPRESE TO CHECK THAT THEY STILL WORK. "
RESSAR77 (&"PATH"f2048013.byt,RESEAU.LOC,&"PATH"vgr2na.blm) RES.OUT4 RADI=3. 'KEEPRESE
WRITE "PRINT AREA INCLUDING ONE RESEAU MARK AND ONE BLEMISH."
WRITE "BEFORE : THE BLEMISH IS AT L=34.5 S=278.5"
LIST &"PATH"f2048013.byt (30,270,20,15) 'nousrtim
WRITE "AFTER :"
LIST RES.OUT4 (30,270,20,15) 'nousrtim
WRITE "REMOVE ONE SPOT."
RESSAR77 (&"PATH"f2048013.byt,RESEAU.LOC) RES.OUT5 'KEEPFIDU CENTER=(34.5,278.5,3.) 'KEEPRESE
WRITE "NOW, PRINT AREA INCLUDING ONE RESEAU MARK AND THE SPOT."
WRITE "BEFORE :"
LIST &"PATH"f2048013.byt (30,270,20,15) 'nousrtim
WRITE "AFTER :"
LIST RES.OUT5 (30,270,20,15) 'nousrtim
ush rm cresj.fil.vic RES.OUT1 RES.OUT2 RES.OUT3 RES.OUT4 RES.OUT5 RESEAU.LOC

disable-log

end-proc
