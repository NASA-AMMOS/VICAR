local testfile type=string init="/project/test_work/testdata/gll/s0061000300.1"
if ($syschar(1) = "VAX_VMS")
end-if
write "		Test for program LABEL"
		Test for program LABEL
write ""

write "Make sure file /project/test_work/testdata/gll/s0061000300.1 is available"
Make sure file /project/test_work/testdata/gll/s0061000300.1 is available
if ($syschar(1) = "VMS")
end-if
write ""

write "Generate a file with some labels first"
Generate a file with some labels first
gen t1 10 10
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
insert t1 t2
Beginning VICAR task insert
INSERT version 02-MAY-94
stretch t2 t3
Beginning VICAR task stretch
STRETCH version 11 Jan 2013
DN values      0 and    255 excluded

Histogram after exclusion: Mean=     9.0909 Sigma=     3.9800
*** AUTO-STRETCH OPTION ***
Percent saturation at low end=  1.00 at high end=  1.00
AUTO-STRETCH:      1 to      0 and     18 to    255
insert t3 t4
Beginning VICAR task insert
INSERT version 02-MAY-94
write "Now list out the labels"
Now list out the labels
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
 
************************************************************
write "	-ADD -- add some label items to the existing file (nocopy)"
	-ADD -- add some label items to the existing file (nocopy)
label-add t4 items="slope=5.6, time=45 name='No name' mv=(1.2,3.5, 4.6,7.8,9)"
Beginning VICAR task label
LABEL version 2019-09-06
Keyword slope added
Keyword time added
Keyword name added
Keyword mv added
label-add t4 items="dslope=5.00000012"
Beginning VICAR task label
LABEL version 2019-09-06
Keyword dslope added
label-list t4 'hist 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
 
************************************************************
label-add t4 items="comment='straight data copy' comment(2)='second comment'" task=insert inst=1
Beginning VICAR task label
LABEL version 2019-09-06
Keyword comment added
Element 2 added to keyword comment
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
 
************************************************************
label-add t4 items="proj=mercator center=(45,12.7) line=5 samp=5" property=tstmap
Beginning VICAR task label
LABEL version 2019-09-06
Keyword proj added
Keyword center added
Keyword line added
Keyword samp added
label-add t4 items="scale=10.0" prop=tstmap
Beginning VICAR task label
LABEL version 2019-09-06
Keyword scale added
label-list t4 'prop 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
---- Property: TSTMAP ----
PROJ='mercator'
CENTER=(45.0, 12.7)
LINE=5
SAMP=5
SCALE=10.0
 
************************************************************
label-add t4 items="red=(1,2,3) green=(4,5,6) blue=(7,8,9)" prop=tstlut
Beginning VICAR task label
LABEL version 2019-09-06
Keyword red added
Keyword green added
Keyword blue added
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
PROJ='mercator'
CENTER=(45.0, 12.7)
LINE=5
SAMP=5
SCALE=10.0
---- Property: TSTLUT ----
RED=(1, 2, 3)
GREEN=(4, 5, 6)
BLUE=(7, 8, 9)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
 
************************************************************
label-add t4 items="red=(11,12,13) green=(14,15,16) blue=(17,18,19)" prop=tstlut instance=2
Beginning VICAR task label
LABEL version 2019-09-06
Keyword red added
Keyword green added
Keyword blue added
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
PROJ='mercator'
CENTER=(45.0, 12.7)
LINE=5
SAMP=5
SCALE=10.0
---- Property: TSTLUT ----
RED=(1, 2, 3)
GREEN=(4, 5, 6)
BLUE=(7, 8, 9)
---- Property: TSTLUT (#2) ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
 
************************************************************
write " Update existing label"
 Update existing label
label-add t4 items="proj=cylindrical samp=10 longitude=10.5" property=tstmap 'prop 'update
Beginning VICAR task label
LABEL version 2019-09-06
Keyword proj replaced
Keyword samp replaced
Keyword longitude replaced
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(1, 2, 3)
GREEN=(4, 5, 6)
BLUE=(7, 8, 9)
---- Property: TSTLUT (#2) ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
 
************************************************************
write " Now add items using data copy"
 Now add items using data copy
label-add t4 t5 items="action=('LABEL-ADD', '-- copy option used') long=(1,4,5,6,7,8,9,10)"
Beginning VICAR task label
LABEL version 2019-09-06
Keyword action added
Keyword long added
label-list t5 'dump 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
LBLSIZE=1140
FORMAT='BYTE'
TYPE='IMAGE'
BUFSIZ=131072
DIM=3
EOL=1
RECSIZE=10
ORG='BSQ'
NL=10
NS=10
NB=1
N1=10
N2=10
N3=1
N4=0
NBB=0
NLB=0
HOST='X86-64-LINX'
INTFMT='LOW'
REALFMT='RIEEE'
BHOST='VAX-VMS'
BINTFMT='LOW'
BREALFMT='VAX'
BLTYPE=''
COMPRESS='NONE'
EOCI1=0
EOCI2=0
PROPERTY='TSTMAP'
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
PROPERTY='TSTLUT'
RED=(1, 2, 3)
GREEN=(4, 5, 6)
BLUE=(7, 8, 9)
PROPERTY='TSTLUT'
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
TASK='GEN'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
TASK='INSERT'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'
COMMENT=('straight data copy', 'second comment')
TASK='STRETCH'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
TASK='INSERT'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
TASK='LABEL'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 4, 5, 6, 7, 8, 9, 10)
 
************************************************************
label-add t5 items="long(2)=(2,3)"
Beginning VICAR task label
LABEL version 2019-09-06
Elements 2 through 3 added to keyword long
label-add t5 items="red(4)=4 green(4)=7 blue(4)=10" prop=tstlut
Beginning VICAR task label
LABEL version 2019-09-06
Element 4 added to keyword red
Element 4 added to keyword green
Element 4 added to keyword blue
label-list t5 'dump 'pack 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
LBLSIZE=1140  FORMAT='BYTE'  TYPE='IMAGE'  BUFSIZ=131072  DIM=3  EOL=1
RECSIZE=10  ORG='BSQ'  NL=10  NS=10  NB=1  N1=10  N2=10  N3=1  N4=0  NBB=0
NLB=0  HOST='X86-64-LINX'  INTFMT='LOW'  REALFMT='RIEEE'  BHOST='VAX-VMS'
BINTFMT='LOW'  BREALFMT='VAX'  BLTYPE=''  COMPRESS='NONE'  EOCI1=0
EOCI2=0
PROPERTY='TSTMAP'
CENTER=(45.0, 12.7)  LINE=5  SCALE=10.0  PROJ='cylindrical'  SAMP=10
LONGITUDE=10.5  PROPERTY='TSTLUT'  RED=(1, 2, 3, 4)  GREEN=(4, 5, 6, 7)
BLUE=(7, 8, 9, 10)  PROPERTY='TSTLUT'  RED=(11, 12, 13)  GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
TASK='GEN'
USER='wlb'  DAT_TIM='Fri Sep  6 11:06:25 2019'  IVAL=0.0  SINC=1.0
LINC=1.0  BINC=1.0  MODULO=0.0  TASK='INSERT'  USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'  COMMENT=('straight data copy', 
'second comment')  TASK='STRETCH'  USER='wlb'
DAT_TIM='Fri Sep  6 11:06:25 2019'
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'  PARMS2='ûÿ'
TASK='INSERT'  USER='wlb'  DAT_TIM='Fri Sep  6 11:06:25 2019'  SLOPE=5.6
TIME=45  NAME='No name'  MV=(1.2, 3.5, 4.6, 7.8, 9.0)  DSLOPE=5.00000012
TASK='LABEL'  USER='wlb'  DAT_TIM='Fri Sep  6 11:06:25 2019'
ACTION=('LABEL-ADD', '-- copy option used')  LONG=(1, 2, 3, 4, 5, 6, 7, 8, 
9, 10)
 
************************************************************
write " -CONCAT -- Add label sets to other images"
 -CONCAT -- Add label sets to other images
gen t6
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
label-concat (t5,t6)
Beginning VICAR task label
LABEL version 2019-09-06
label-list t6 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(1, 2, 3, 4)
GREEN=(4, 5, 6, 7)
BLUE=(7, 8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.0
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
 
************************************************************
gen t6
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
label-concat (t5,t6) 'prop
Beginning VICAR task label
LABEL version 2019-09-06
label-list t6 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(1, 2, 3, 4)
GREEN=(4, 5, 6, 7)
BLUE=(7, 8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
 
************************************************************
gen t6
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
label-concat (t5,t6) task=stretch
Beginning VICAR task label
LABEL version 2019-09-06
label-list t6 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
 
************************************************************
gen t6
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
label-concat (t5,t6) t7 prop=tstlut instance=2
Beginning VICAR task label
LABEL version 2019-09-06
label-list t7 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t7 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTLUT ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -DELETE -- Delete different items"
 -DELETE -- Delete different items
label-delete t5 task=insert key=mv element=3 nelement=2
Beginning VICAR task label
LABEL version 2019-09-06
Elements 3 through 4 deleted from keyword MV
label-list t5 'hist 'pack 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
---- Task: GEN -- User:  --  ----
IVAL=0.0  SINC=1.0  LINC=1.0  BINC=1.0  MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'  PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6  TIME=45  NAME='No name'  MV=(1.2, 3.5, 9.0)  DSLOPE=5.00000012
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')  LONG=(1, 2, 3, 4, 5, 6, 7, 8, 
9, 10)
 
************************************************************
label-delete t5 task=insert
Beginning VICAR task label
LABEL version 2019-09-06
Keyword COMMENT deleted
History subset INSERT deleted
Keyword SLOPE deleted
Keyword TIME deleted
Keyword NAME deleted
Keyword MV deleted
Keyword DSLOPE deleted
History subset INSERT deleted
label-list t5 'hist 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
 
************************************************************
label-delete t5 task=gen key=/ALL
Beginning VICAR task label
LABEL version 2019-09-06
Keyword IVAL deleted
Keyword SINC deleted
Keyword LINC deleted
Keyword BINC deleted
Keyword MODULO deleted
label-list t5 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(1, 2, 3, 4)
GREEN=(4, 5, 6, 7)
BLUE=(7, 8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
 
************************************************************
label-delete t5 key=(red,green) prop=tstlut element=1 nelement=1 instnces=2
Beginning VICAR task label
LABEL version 2019-09-06
Element 1 deleted from keyword RED
Element 1 deleted from keyword GREEN
label-list t5 'prop 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(1, 2, 3, 4)
GREEN=(4, 5, 6, 7)
BLUE=(7, 8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=(12, 13)
GREEN=(15, 16)
BLUE=(17, 18, 19)
 
************************************************************
label-delete t5 key=(red,green,blue) prop=tstlut element=1 nelement=1
Beginning VICAR task label
LABEL version 2019-09-06
Element 1 deleted from keyword RED
Element 1 deleted from keyword GREEN
Element 1 deleted from keyword BLUE
Element 1 deleted from keyword RED
Element 1 deleted from keyword GREEN
Element 1 deleted from keyword BLUE
label-list t5 'prop 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(2, 3, 4)
GREEN=(5, 6, 7)
BLUE=(8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=13
GREEN=16
BLUE=(18, 19)
 
************************************************************
label-delete t5 t6 key=/all prop=tstmap
Beginning VICAR task label
LABEL version 2019-09-06
Keyword CENTER deleted
Keyword LINE deleted
Keyword SCALE deleted
Keyword PROJ deleted
Keyword SAMP deleted
Keyword LONGITUDE deleted
label-list t6 'prop 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
---- Property: TSTMAP ----
---- Property: TSTLUT ----
RED=(2, 3, 4)
GREEN=(5, 6, 7)
BLUE=(8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=13
GREEN=16
BLUE=(18, 19)
 
************************************************************
label-delete t6 'property
Beginning VICAR task label
LABEL version 2019-09-06
Property subset TSTMAP deleted
Keyword RED deleted
Keyword GREEN deleted
Keyword BLUE deleted
Property subset TSTLUT deleted
Keyword RED deleted
Keyword GREEN deleted
Keyword BLUE deleted
Property subset TSTLUT deleted
label-list t6 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -REPLACE -- Replace specific label items"
 -REPLACE -- Replace specific label items
label-repla t4 item="nl=5" 'sys
Beginning VICAR task label
LABEL version 2019-09-06
Keyword nl replaced
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                5 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(1, 2, 3)
GREEN=(4, 5, 6)
BLUE=(7, 8, 9)
---- Property: TSTLUT (#2) ----
RED=(11, 12, 13)
GREEN=(14, 15, 16)
BLUE=(17, 18, 19)
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: INSERT -- User:  --  ----
COMMENT=('straight data copy', 'second comment')
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: INSERT -- User:  --  ----
SLOPE=5.6
TIME=45
NAME='No name'
MV=(1.2, 3.5, 4.6, 7.8, 9.0)
DSLOPE=5.00000012
 
************************************************************
label-repla t3 t4 "ival=9999" task=gen inst=1
Beginning VICAR task label
LABEL version 2019-09-06
Keyword ival replaced
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
IVAL=9999
---- Task: INSERT -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
 
************************************************************
label-repla t5 item="long(5)=(50,60)"
Beginning VICAR task label
LABEL version 2019-09-06
Elements 5 through 6 replaced in keyword long
label-repla t5 item="red(2)=30 green(2)=60" prop=tstlut
Beginning VICAR task label
LABEL version 2019-09-06
Element 2 replaced in keyword red
Element 2 replaced in keyword green
label-repla t5 item="blue(2)=(90,100)" prop=tstlut instance=2
Beginning VICAR task label
LABEL version 2019-09-06
Elements 2 through 3 replaced in keyword blue
label-list t5 'pack 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t5 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)  LINE=5  SCALE=10.0  PROJ='cylindrical'  SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(2, 30, 4)  GREEN=(5, 60, 7)  BLUE=(8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=13  GREEN=16  BLUE=(18, 90, 100)
---- Task: GEN -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'  PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')  LONG=(1, 2, 3, 4, 50, 60, 7, 8, 
9, 10)
 
************************************************************
write " Now make everything single-valued by deleting elements > 1"
 Now make everything single-valued by deleting elements > 1
label-delete t5 t6 key=/ALL element=2 nelement=-1 'hist
Beginning VICAR task label
LABEL version 2019-09-06
Element 2 deleted from keyword ACTION
Elements 2 through 10 deleted from keyword LONG
label-delete t6 key=/ALL element=2 nelement=-1 'prop
Beginning VICAR task label
LABEL version 2019-09-06
Element 2 deleted from keyword CENTER
Elements 2 through 3 deleted from keyword RED
Elements 2 through 3 deleted from keyword GREEN
Elements 2 through 3 deleted from keyword BLUE
Elements 2 through 3 deleted from keyword BLUE
label-list t6 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=45.0
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=2
GREEN=5
BLUE=8
---- Property: TSTLUT (#2) ----
RED=13
GREEN=16
BLUE=18
---- Task: GEN -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION='LABEL-ADD'
LONG=1
---- Task: LABEL -- User:  --  ----
 
************************************************************
copy t4 t7
Beginning VICAR task copy
 COPY VERSION 12-JUL-1993
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
IVAL=9999
---- Task: INSERT -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -REMOVE -- Remove the binary header"
 -REMOVE -- Remove the binary header
label-remove t4 t1 'NOBINHEAD
Beginning VICAR task label
LABEL version 2019-09-06
write "	attempt to list should be successful"
	attempt to list should be successful
label-list t1 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t1 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
IVAL=9999
---- Task: INSERT -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -REMOVE -- Remove the binary prefix"
 -REMOVE -- Remove the binary prefix
label-remove t4 t1 'NOBINPREF
Beginning VICAR task label
LABEL version 2019-09-06
write "	attempt to list should be successful"
	attempt to list should be successful
label-list t1 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t1 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
IVAL=9999
---- Task: INSERT -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -REMOVE -- Remove all the header"
 -REMOVE -- Remove all the header
label-remove t4 t1
Beginning VICAR task label
LABEL version 2019-09-06
write "	attempt to list should cause an error"
	attempt to list should cause an error
label-list t1 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t1 ************
[VIC2-GENERR] Exception in XVOPEN, processing file: t1
[VIC2-BADLBL] Bad input label; check file contents
 ** ABEND called **
continue
write " -CREATE -- add a label then list it out"
 -CREATE -- add a label then list it out
label-create t1 t6 nl=10 ns=10 comment="What a slick image"
Beginning VICAR task label
LABEL version 2019-09-06
label-list t6 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t6 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: LABEL -- User:  --  ----
COMMENT='What a slick image'
 
************************************************************
write " -SWITCH -- gen a different size file then switch the labels"
 -SWITCH -- gen a different size file then switch the labels
gen t1 5 5 linc=10
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
list t1 'nousrtim
Beginning VICAR task list
list version 2017-03-29

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:          Date_Time:                        
     Samp     1       3       5
   Line
      1       0   1   2   3   4
      2      10  11  12  13  14
      3      20  21  22  23  24
      4      30  31  32  33  34
      5      40  41  42  43  44
label-switch (t5,t1) t2
Beginning VICAR task label
LABEL version 2019-09-06
list t2 'nousrtim
Beginning VICAR task list
list version 2017-03-29

   BYTE     samples are interpreted as   BYTE   data
 Task:GEN       User:          Date_Time:                        
 Task:LABEL     User:          Date_Time:                        
     Samp     1       3       5
   Line
      1       0   1   2   3   4
      2      10  11  12  13  14
      3      20  21  22  23  24
      4      30  31  32  33  34
      5      40  41  42  43  44
label-list t2 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t2 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                5 lines per band
                5 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(2, 30, 4)
GREEN=(5, 60, 7)
BLUE=(8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=13
GREEN=16
BLUE=(18, 90, 100)
---- Task: GEN -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 2, 3, 4, 50, 60, 7, 8, 9, 10)
---- Task: LABEL -- User:  --  ----
 
************************************************************
write ""

write "Generate a 3-D file with some labels first"
Generate a 3-D file with some labels first
gen t1 10 10 3 'BIL
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
copy t1 t7
Beginning VICAR task copy
 COPY VERSION 12-JUL-1993
label-list t1 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t1 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a X86-64-LIN host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
 
************************************************************
write "	attempt to list should be successful"
	attempt to list should be successful
label-list t2 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t2 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                5 lines per band
                5 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Property: TSTMAP ----
CENTER=(45.0, 12.7)
LINE=5
SCALE=10.0
PROJ='cylindrical'
SAMP=10
LONGITUDE=10.5
---- Property: TSTLUT ----
RED=(2, 30, 4)
GREEN=(5, 60, 7)
BLUE=(8, 9, 10)
---- Property: TSTLUT (#2) ----
RED=13
GREEN=16
BLUE=(18, 90, 100)
---- Task: GEN -- User:  --  ----
---- Task: STRETCH -- User:  --  ----
PARMS='AUTO-STRETCH:      1 to      0 and     18 to    255'
PARMS2='ûÿ'
---- Task: LABEL -- User:  --  ----
ACTION=('LABEL-ADD', '-- copy option used')
LONG=(1, 2, 3, 4, 50, 60, 7, 8, 9, 10)
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -REMOVE -- Remove the binary prefix"
 -REMOVE -- Remove the binary prefix
label-remove t1 t2 'NOBINPREF
Beginning VICAR task label
LABEL version 2019-09-06
write "	attempt to list should be successful"
	attempt to list should be successful
label-list t2 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t2 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a X86-64-LIN host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -REMOVE -- Remove the binary header and prefix"
 -REMOVE -- Remove the binary header and prefix
label-remove t1 t2
Beginning VICAR task label
LABEL version 2019-09-06
write "	attempt to list should cause an error"
	attempt to list should cause an error
label-list t2 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t2 ************
[VIC2-GENERR] Exception in XVOPEN, processing file: t2
[VIC2-BADLBL] Bad input label; check file contents
 ** ABEND called **
continue
write " -CREATE -- add a label"
 -CREATE -- add a label
label-create t2 t3 ns=10 nl=10 nb=3 org=BIL
Beginning VICAR task label
LABEL version 2019-09-06
label-list t3 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t3 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a X86-64-LIN host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: LABEL -- User:  --  ----
 
************************************************************
write " -CREATE -- different host formats"
 -CREATE -- different host formats
label-create t2 t3 ns=10 nl=10 nb=3 org=BIL host=VAX-VMS
Beginning VICAR task label
LABEL version 2019-09-06
label-list t3 'sys 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t3 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a VAX-VMS host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
 
************************************************************
label-list t3 'dump 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t3 ************
LBLSIZE=370
FORMAT='BYTE'
TYPE='IMAGE'
BUFSIZ=131072
DIM=3
EOL=0
RECSIZE=10
ORG='BIL'
NL=10
NS=10
NB=3
N1=10
N2=3
N3=10
N4=0
NBB=0
NLB=0
HOST='VAX-VMS'
INTFMT='LOW'
REALFMT='VAX'
BHOST='VAX-VMS'
BINTFMT='LOW'
BREALFMT='VAX'
BLTYPE=''
COMPRESS='NONE'
EOCI1=0
EOCI2=0
TASK='LABEL'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:26 2019'
 
************************************************************
label-create t2 t3 ns=10 nl=10 nb=3 org=BIL host=SUN-4
Beginning VICAR task label
LABEL version 2019-09-06
label-list t3 'sys 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t3 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a SUN-4 host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
 
************************************************************
label-list t3 'dump 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t3 ************
LBLSIZE=370
FORMAT='BYTE'
TYPE='IMAGE'
BUFSIZ=131072
DIM=3
EOL=0
RECSIZE=10
ORG='BIL'
NL=10
NS=10
NB=3
N1=10
N2=3
N3=10
N4=0
NBB=0
NLB=0
HOST='SUN-4'
INTFMT='HIGH'
REALFMT='IEEE'
BHOST='VAX-VMS'
BINTFMT='LOW'
BREALFMT='VAX'
BLTYPE=''
COMPRESS='NONE'
EOCI1=0
EOCI2=0
TASK='LABEL'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:26 2019'
 
************************************************************
write " test handling long records. "
 test handling long records. 
gen t1 10 200000
Beginning VICAR task gen
GEN Version 2019-05-28
GEN task completed
label-add t1 t4 items="slope=5.6"
Beginning VICAR task label
LABEL version 2019-09-06
Keyword slope added
label-list t4 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                200000 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: LABEL -- User:  --  ----
SLOPE=5.6
 
************************************************************
write "multi-input option and abend with -LIST"
multi-input option and abend with -LIST
label-list (t1 t2 t3 t4) 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t1 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                200000 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
 
************************************************************
************************************************************
 
        ************  File t2 ************
[VIC2-GENERR] Exception in XVOPEN, processing file: t2
[VIC2-BADLBL] Bad input label; check file contents
************************************************************
 
        ************  File t3 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a SUN-4 host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: LABEL -- User:  --  ----
 
************************************************************
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                200000 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: LABEL -- User:  --  ----
SLOPE=5.6
 
************************************************************
ush rm xxxx
[TAE-ABNSHELL] Abnormal shell termination.;
 proc 'tstlabel', line 160
continue
write "this should generate an error msg but no abend:"
this should generate an error msg but no abend:
label-list (t1 xxxx t3 t4) 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File t1 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                200000 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
 
************************************************************
************************************************************
 
        ************  File xxxx ************
[VIC2-GENERR] Exception in XVOPEN, processing file: xxxx
[VIC2-HOSTMSG]  No such file or directory
************************************************************
 
        ************  File t3 ************
                3 dimensional IMAGE file
                File organization is BIL
                Pixels are in BYTE format from a SUN-4 host
                3 bands
                10 lines per band
                10 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: LABEL -- User:  --  ----
 
************************************************************
************************************************************
 
        ************  File t4 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                10 lines per band
                200000 samples per line
                0 lines of binary header
                0 bytes of binary prefix per line
---- Task: GEN -- User:  --  ----
IVAL=0.0
SINC=1.0
LINC=1.0
BINC=1.0
MODULO=0.0
---- Task: LABEL -- User:  --  ----
SLOPE=5.6
 
************************************************************
write "this should generate an abend:"
this should generate an abend:
label-list xxxx  'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File xxxx ************
[VIC2-GENERR] Exception in XVOPEN, processing file: xxxx
[VIC2-HOSTMSG]  No such file or directory
 ** ABEND called **
continue
ush rm t1 t2 t3 t4 t5 t6 t7
label-list "/project/test_work/testdata/gll/s0061000300.1" 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File /project/test_work/testdata/gll/s0061000300.1 ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a VAX-VMS host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header
                200 bytes of binary prefix per line
---- Task: TASK -- User:  --  ----
MISSION='GALILEO'
SENSOR='SSI'
PICNO='?'
PA='E1LNLTIN_-05B___LCOP'
RIM=610003
MOD91=0
MOD10=1
MOD8=0
TCA='CLOSEST TIME'
TARGET='MOON'
SCETYEAR=1990
SCETDAY=342
SCETHOUR=16
SCETMIN=59
SCETSEC=48
SCETMSEC=133
FILTER=0
EXP=4.167
GAIN=3
RATE=3
TLMFMT='HCJ'
BOOM='P'
FIBE='1000'
BARC='RC'
ENTROPY=0.0
TBPPXL=0.0
TPPLNE=0.0
INA=-999.0
EMA=-999.0
PHA=-999.0
HRA=-999.0
TWIST=0.0
CONE=0.0
RA=0.0
DEC=0.0
SUNAZ=0.0
NORAZ=0.0
SCAZ=0.0
SMRAZ=0.0
SMEAR=-999.0
HSCL=0.0
VSCL=0.0
LAT=0.0
LON=0.0
RAD=0.0
PLRANGE=0.0
SLRANGE=0.0
SOLRANGE=7.779091e+08
 
************************************************************
label-remove "/project/test_work/testdata/gll/s0061000300.1" test.nolabel 'BINARY
Beginning VICAR task label
LABEL version 2019-09-06
write " attempt to list should cause error "
 attempt to list should cause error 
label-list test.nolabel 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.nolabel ************
[VIC2-GENERR] Exception in XVOPEN, processing file: test.nolabel
[VIC2-BADLBL] Bad input label; check file contents
 ** ABEND called **
continue
label-create test.nolabel test.vpds NL=800 NS=800 NLB=2 NBB=200 'BINARY
Beginning VICAR task label
LABEL version 2019-09-06
label-list test.vpds 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.vpds ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header
                200 bytes of binary prefix per line
---- Task: LABEL -- User:  --  ----
 
************************************************************
difpic ("/project/test_work/testdata/gll/s0061000300.1",test.vpds)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
label-create test.nolabel test.binary nl=800 ns=800 nlb=2 nbb=200 'bin  +
	bhost=vax-vms bltype="tstpds"
Beginning VICAR task label
LABEL version 2019-09-06
label-list test.binary 'sys 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.binary ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header of type TSTPDS
                200 bytes of binary prefix per line
 
************************************************************
label-list test.binary 'dump 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.binary ************
LBLSIZE=1000
FORMAT='BYTE'
TYPE='IMAGE'
BUFSIZ=131072
DIM=3
EOL=0
RECSIZE=1000
ORG='BSQ'
NL=800
NS=800
NB=1
N1=800
N2=800
N3=1
N4=0
NBB=200
NLB=2
HOST='X86-64-LINX'
INTFMT='LOW'
REALFMT='RIEEE'
BHOST='VAX-VMS'
BINTFMT='LOW'
BREALFMT='VAX'
BLTYPE='TSTPDS'
COMPRESS='NONE'
EOCI1=0
EOCI2=0
TASK='LABEL'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:27 2019'
 
************************************************************
label-create test.nolabel test.binary nl=800 ns=800 nlb=2 nbb=200 'bin  +
	bhost="vax-vms" brealfmt="vax" bltype="tstpds"
Beginning VICAR task label
LABEL version 2019-09-06
label-list test.binary 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.binary ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header of type TSTPDS
                200 bytes of binary prefix per line
---- Task: LABEL -- User:  --  ----
 
************************************************************
label-list test.binary 'dump 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.binary ************
LBLSIZE=1000
FORMAT='BYTE'
TYPE='IMAGE'
BUFSIZ=131072
DIM=3
EOL=0
RECSIZE=1000
ORG='BSQ'
NL=800
NS=800
NB=1
N1=800
N2=800
N3=1
N4=0
NBB=200
NLB=2
HOST='X86-64-LINX'
INTFMT='LOW'
REALFMT='RIEEE'
BHOST='VAX-VMS'
BINTFMT='LOW'
BREALFMT='VAX'
BLTYPE='TSTPDS'
COMPRESS='NONE'
EOCI1=0
EOCI2=0
TASK='LABEL'
USER='wlb'
DAT_TIM='Fri Sep  6 11:06:27 2019'
 
************************************************************
write "The following commands test the new binary features of LABEL"
The following commands test the new binary features of LABEL
label-add test.vpds test.added items="LIST=(1,2)"
Beginning VICAR task label
LABEL version 2019-09-06
Keyword LIST added
label-add test.added items="test=binary" prop=tstprop
Beginning VICAR task label
LABEL version 2019-09-06
Keyword test added
label-list test.added 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.added ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header
                200 bytes of binary prefix per line
---- Property: TSTPROP ----
TEST='binary'
---- Task: LABEL -- User:  --  ----
---- Task: LABEL -- User:  --  ----
LIST=(1, 2)
 
************************************************************
difpic (test.vpds,test.added)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
label-del test.added test.deleted keys="LIST" tasks="LABEL"
Beginning VICAR task label
LABEL version 2019-09-06
Keyword LIST deleted
label-del test.deleted keys="TEST" prop=tstprop
Beginning VICAR task label
LABEL version 2019-09-06
Keyword TEST deleted
label-list test.deleted 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.deleted ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header
                200 bytes of binary prefix per line
---- Property: TSTPROP ----
---- Task: LABEL -- User:  --  ----
---- Task: LABEL -- User:  --  ----
---- Task: LABEL -- User:  --  ----
 
************************************************************
difpic (test.vpds,test.deleted)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
label-switch (test.added,test.deleted) test.switch
Beginning VICAR task label
LABEL version 2019-09-06
label-list test.switch 'nousrtim
Beginning VICAR task label
LABEL version 2019-09-06
************************************************************
 
        ************  File test.switch ************
                3 dimensional IMAGE file
                File organization is BSQ
                Pixels are in BYTE format from a X86-64-LIN host
                1 bands
                800 lines per band
                800 samples per line
                2 lines of binary header
                200 bytes of binary prefix per line
---- Property: TSTPROP ----
TEST='binary'
---- Task: LABEL -- User:  --  ----
---- Task: LABEL -- User:  --  ----
LIST=(1, 2)
---- Task: LABEL -- User:  --  ----
 
************************************************************
difpic (test.vpds,test.switch)
Beginning VICAR task difpic
DIFPIC version 06Oct11
 NUMBER OF DIFFERENT PIXELS =   0
ush rm test.nolabel test.vpds test.binary test.added test.deleted test.switch
disable-log
